var R={exports:{}},q={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var tf=Object.getOwnPropertySymbols,Lv=Object.prototype.hasOwnProperty,$v=Object.prototype.propertyIsEnumerable;function Mv(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Fv(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Tp=Fv()?Object.assign:function(t,e){for(var n,r=Mv(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)Lv.call(n,o)&&(r[o]=n[o]);if(tf){i=tf(n);for(var a=0;a<i.length;a++)$v.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=Tp,$r=60103,Sp=60106;q.Fragment=60107;q.StrictMode=60108;q.Profiler=60114;var Cp=60109,kp=60110,Ip=60112;q.Suspense=60113;var _p=60115,Np=60116;if(typeof Symbol=="function"&&Symbol.for){var ht=Symbol.for;$r=ht("react.element"),Sp=ht("react.portal"),q.Fragment=ht("react.fragment"),q.StrictMode=ht("react.strict_mode"),q.Profiler=ht("react.profiler"),Cp=ht("react.provider"),kp=ht("react.context"),Ip=ht("react.forward_ref"),q.Suspense=ht("react.suspense"),_p=ht("react.memo"),Np=ht("react.lazy")}var nf=typeof Symbol=="function"&&Symbol.iterator;function Uv(t){return t===null||typeof t!="object"?null:(t=nf&&t[nf]||t["@@iterator"],typeof t=="function"?t:null)}function cs(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ap={};function Mr(t,e,n){this.props=t,this.context=e,this.refs=Ap,this.updater=n||xp}Mr.prototype.isReactComponent={};Mr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(cs(85));this.updater.enqueueSetState(this,t,e,"setState")};Mr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dp(){}Dp.prototype=Mr.prototype;function tc(t,e,n){this.props=t,this.context=e,this.refs=Ap,this.updater=n||xp}var nc=tc.prototype=new Dp;nc.constructor=tc;ec(nc,Mr.prototype);nc.isPureReactComponent=!0;var rc={current:null},Op=Object.prototype.hasOwnProperty,Rp={key:!0,ref:!0,__self:!0,__source:!0};function Pp(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Op.call(e,r)&&!Rp.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$r,type:t,key:s,ref:o,props:i,_owner:rc.current}}function Vv(t,e){return{$$typeof:$r,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ic(t){return typeof t=="object"&&t!==null&&t.$$typeof===$r}function Bv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rf=/\/+/g;function Za(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Bv(""+t.key):e.toString(36)}function Zs(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case $r:case Sp:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Za(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(rf,"$&/")+"/"),Zs(i,e,n,"",function(u){return u})):i!=null&&(ic(i)&&(i=Vv(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(rf,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Za(s,a);o+=Zs(s,e,n,l,i)}else if(l=Uv(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Za(s,a++),o+=Zs(s,e,n,l,i);else if(s==="object")throw e=""+t,Error(cs(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function Ms(t,e,n){if(t==null)return t;var r=[],i=0;return Zs(t,r,"","",function(s){return e.call(n,s,i++)}),r}function jv(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var Lp={current:null};function $t(){var t=Lp.current;if(t===null)throw Error(cs(321));return t}var bv={ReactCurrentDispatcher:Lp,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:rc,IsSomeRendererActing:{current:!1},assign:ec};q.Children={map:Ms,forEach:function(t,e,n){Ms(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ms(t,function(){e++}),e},toArray:function(t){return Ms(t,function(e){return e})||[]},only:function(t){if(!ic(t))throw Error(cs(143));return t}};q.Component=Mr;q.PureComponent=tc;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bv;q.cloneElement=function(t,e,n){if(t==null)throw Error(cs(267,t));var r=ec({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=rc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Op.call(e,l)&&!Rp.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:$r,type:t.type,key:i,ref:s,props:r,_owner:o}};q.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:kp,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:Cp,_context:t},t.Consumer=t};q.createElement=Pp;q.createFactory=function(t){var e=Pp.bind(null,t);return e.type=t,e};q.createRef=function(){return{current:null}};q.forwardRef=function(t){return{$$typeof:Ip,render:t}};q.isValidElement=ic;q.lazy=function(t){return{$$typeof:Np,_payload:{_status:-1,_result:t},_init:jv}};q.memo=function(t,e){return{$$typeof:_p,type:t,compare:e===void 0?null:e}};q.useCallback=function(t,e){return $t().useCallback(t,e)};q.useContext=function(t,e){return $t().useContext(t,e)};q.useDebugValue=function(){};q.useEffect=function(t,e){return $t().useEffect(t,e)};q.useImperativeHandle=function(t,e,n){return $t().useImperativeHandle(t,e,n)};q.useLayoutEffect=function(t,e){return $t().useLayoutEffect(t,e)};q.useMemo=function(t,e){return $t().useMemo(t,e)};q.useReducer=function(t,e,n){return $t().useReducer(t,e,n)};q.useRef=function(t){return $t().useRef(t)};q.useState=function(t){return $t().useState(t)};q.version="17.0.2";R.exports=q;var kn=R.exports,sc={exports:{}},ut={},$p={exports:{}},Mp={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var l=null,u=null,h=function(){if(l!==null)try{var N=t.unstable_now();l(!0,N),l=null}catch(M){throw setTimeout(h,0),M}};e=function(N){l!==null?setTimeout(e,0,N):(l=N,setTimeout(h,0))},n=function(N,M){u=setTimeout(N,M)},r=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var m=window.setTimeout,d=window.clearTimeout;if(typeof console!="undefined"){var g=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof g!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var w=!1,E=null,p=-1,c=5,f=0;t.unstable_shouldYield=function(){return t.unstable_now()>=f},i=function(){},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):c=0<N?Math.floor(1e3/N):5};var y=new MessageChannel,v=y.port2;y.port1.onmessage=function(){if(E!==null){var N=t.unstable_now();f=N+c;try{E(!0,N)?v.postMessage(null):(w=!1,E=null)}catch(M){throw v.postMessage(null),M}}else w=!1},e=function(N){E=N,w||(w=!0,v.postMessage(null))},n=function(N,M){p=m(function(){N(t.unstable_now())},M)},r=function(){d(p),p=-1}}function T(N,M){var V=N.length;N.push(M);e:for(;;){var se=V-1>>>1,oe=N[se];if(oe!==void 0&&0<O(oe,M))N[se]=M,N[V]=oe,V=se;else break e}}function C(N){return N=N[0],N===void 0?null:N}function D(N){var M=N[0];if(M!==void 0){var V=N.pop();if(V!==M){N[0]=V;e:for(var se=0,oe=N.length;se<oe;){var mt=2*(se+1)-1,pn=N[mt],Jr=mt+1,Gn=N[Jr];if(pn!==void 0&&0>O(pn,V))Gn!==void 0&&0>O(Gn,pn)?(N[se]=Gn,N[Jr]=V,se=Jr):(N[se]=pn,N[mt]=V,se=mt);else if(Gn!==void 0&&0>O(Gn,V))N[se]=Gn,N[Jr]=V,se=Jr;else break e}}return M}return null}function O(N,M){var V=N.sortIndex-M.sortIndex;return V!==0?V:N.id-M.id}var S=[],L=[],ue=1,G=null,Q=3,rt=!1,Fe=!1,Ee=!1;function ct(N){for(var M=C(L);M!==null;){if(M.callback===null)D(L);else if(M.startTime<=N)D(L),M.sortIndex=M.expirationTime,T(S,M);else break;M=C(L)}}function kt(N){if(Ee=!1,ct(N),!Fe)if(C(S)!==null)Fe=!0,e(Yr);else{var M=C(L);M!==null&&n(kt,M.startTime-N)}}function Yr(N,M){Fe=!1,Ee&&(Ee=!1,r()),rt=!0;var V=Q;try{for(ct(M),G=C(S);G!==null&&(!(G.expirationTime>M)||N&&!t.unstable_shouldYield());){var se=G.callback;if(typeof se=="function"){G.callback=null,Q=G.priorityLevel;var oe=se(G.expirationTime<=M);M=t.unstable_now(),typeof oe=="function"?G.callback=oe:G===C(S)&&D(S),ct(M)}else D(S);G=C(S)}if(G!==null)var mt=!0;else{var pn=C(L);pn!==null&&n(kt,pn.startTime-M),mt=!1}return mt}finally{G=null,Q=V,rt=!1}}var Xr=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){Fe||rt||(Fe=!0,e(Yr))},t.unstable_getCurrentPriorityLevel=function(){return Q},t.unstable_getFirstCallbackNode=function(){return C(S)},t.unstable_next=function(N){switch(Q){case 1:case 2:case 3:var M=3;break;default:M=Q}var V=Q;Q=M;try{return N()}finally{Q=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=Xr,t.unstable_runWithPriority=function(N,M){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var V=Q;Q=N;try{return M()}finally{Q=V}},t.unstable_scheduleCallback=function(N,M,V){var se=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?se+V:se):V=se,N){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=V+oe,N={id:ue++,callback:M,priorityLevel:N,startTime:V,expirationTime:oe,sortIndex:-1},V>se?(N.sortIndex=V,T(L,N),C(S)===null&&N===C(L)&&(Ee?r():Ee=!0,n(kt,V-se))):(N.sortIndex=oe,T(S,N),Fe||rt||(Fe=!0,e(Yr))),N},t.unstable_wrapCallback=function(N){var M=Q;return function(){var V=Q;Q=M;try{return N.apply(this,arguments)}finally{Q=V}}}})(Mp);$p.exports=Mp;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sa=R.exports,ie=Tp,ye=$p.exports;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!sa)throw Error(I(227));var Fp=new Set,Mi={};function Bn(t,e){Sr(t,e),Sr(t+"Capture",e)}function Sr(t,e){for(Mi[t]=e,t=0;t<e.length;t++)Fp.add(e[t])}var Rt=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),zv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sf=Object.prototype.hasOwnProperty,of={},af={};function Hv(t){return sf.call(af,t)?!0:sf.call(of,t)?!1:zv.test(t)?af[t]=!0:(of[t]=!0,!1)}function qv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Kv(t,e,n,r){if(e===null||typeof e=="undefined"||qv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function be(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ne[t]=new be(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ne[e]=new be(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ne[t]=new be(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ne[t]=new be(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ne[t]=new be(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ne[t]=new be(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ne[t]=new be(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ne[t]=new be(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ne[t]=new be(t,5,!1,t.toLowerCase(),null,!1,!1)});var oc=/[\-:]([a-z])/g;function ac(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(oc,ac);Ne[e]=new be(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(oc,ac);Ne[e]=new be(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(oc,ac);Ne[e]=new be(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ne[t]=new be(t,1,!1,t.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ne[t]=new be(t,1,!1,t.toLowerCase(),null,!0,!0)});function lc(t,e,n,r){var i=Ne.hasOwnProperty(e)?Ne[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(Kv(e,n,i,r)&&(n=null),r||i===null?Hv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jn=sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,di=60103,yn=60106,Ut=60107,uc=60108,Ei=60114,cc=60109,hc=60110,oa=60112,Ti=60113,yo=60120,aa=60115,fc=60116,dc=60121,pc=60128,Up=60129,mc=60130,Ul=60131;if(typeof Symbol=="function"&&Symbol.for){var me=Symbol.for;di=me("react.element"),yn=me("react.portal"),Ut=me("react.fragment"),uc=me("react.strict_mode"),Ei=me("react.profiler"),cc=me("react.provider"),hc=me("react.context"),oa=me("react.forward_ref"),Ti=me("react.suspense"),yo=me("react.suspense_list"),aa=me("react.memo"),fc=me("react.lazy"),dc=me("react.block"),me("react.scope"),pc=me("react.opaque.id"),Up=me("react.debug_trace_mode"),mc=me("react.offscreen"),Ul=me("react.legacy_hidden")}var lf=typeof Symbol=="function"&&Symbol.iterator;function Zr(t){return t===null||typeof t!="object"?null:(t=lf&&t[lf]||t["@@iterator"],typeof t=="function"?t:null)}var el;function pi(t){if(el===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);el=e&&e[1]||""}return`
`+el+t}var tl=!1;function Fs(t,e){if(!t||tl)return"";tl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=a);break}}}finally{tl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pi(t):""}function Wv(t){switch(t.tag){case 5:return pi(t.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 2:case 15:return t=Fs(t.type,!1),t;case 11:return t=Fs(t.type.render,!1),t;case 22:return t=Fs(t.type._render,!1),t;case 1:return t=Fs(t.type,!0),t;default:return""}}function ar(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ut:return"Fragment";case yn:return"Portal";case Ei:return"Profiler";case uc:return"StrictMode";case Ti:return"Suspense";case yo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hc:return(t.displayName||"Context")+".Consumer";case cc:return(t._context.displayName||"Context")+".Provider";case oa:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case aa:return ar(t.type);case dc:return ar(t._render);case fc:e=t._payload,t=t._init;try{return ar(t(e))}catch{}}return null}function en(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Vp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Gv(t){var e=Vp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Us(t){t._valueTracker||(t._valueTracker=Gv(t))}function Bp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Vp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vo(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vl(t,e){var n=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function uf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=en(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jp(t,e){e=e.checked,e!=null&&lc(t,"checked",e,!1)}function Bl(t,e){jp(t,e);var n=en(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jl(t,e.type,n):e.hasOwnProperty("defaultValue")&&jl(t,e.type,en(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jl(t,e,n){(e!=="number"||vo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Qv(t){var e="";return sa.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function bl(t,e){return t=ie({children:void 0},e),(e=Qv(e.children))&&(t.children=e),t}function lr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+en(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:en(n)}}function bp(t,e){var n=en(e.value),r=en(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ff(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Hl={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function zp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ql(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vs,Hp=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==Hl.svg||"innerHTML"in t)t.innerHTML=e;else{for(Vs=Vs||document.createElement("div"),Vs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Si={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yv=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(t){Yv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Si[e]=Si[t]})});function qp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Si.hasOwnProperty(t)&&Si[t]?(""+e).trim():e+"px"}function Kp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Xv=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kl(t,e){if(e){if(Xv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function Wl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function gc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gl=null,ur=null,cr=null;function df(t){if(t=fs(t)){if(typeof Gl!="function")throw Error(I(280));var e=t.stateNode;e&&(e=da(e),Gl(t.stateNode,t.type,e))}}function Wp(t){ur?cr?cr.push(t):cr=[t]:ur=t}function Gp(){if(ur){var t=ur,e=cr;if(cr=ur=null,df(t),e)for(t=0;t<e.length;t++)df(e[t])}}function yc(t,e){return t(e)}function Qp(t,e,n,r,i){return t(e,n,r,i)}function vc(){}var Yp=yc,vn=!1,nl=!1;function wc(){(ur!==null||cr!==null)&&(vc(),Gp())}function Jv(t,e,n){if(nl)return t(e,n);nl=!0;try{return Yp(t,e,n)}finally{nl=!1,wc()}}function Ui(t,e){var n=t.stateNode;if(n===null)return null;var r=da(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var Ql=!1;if(Rt)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){Ql=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{Ql=!1}function Zv(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Ci=!1,wo=null,Eo=!1,Yl=null,e0={onError:function(t){Ci=!0,wo=t}};function t0(t,e,n,r,i,s,o,a,l){Ci=!1,wo=null,Zv.apply(e0,arguments)}function n0(t,e,n,r,i,s,o,a,l){if(t0.apply(this,arguments),Ci){if(Ci){var u=wo;Ci=!1,wo=null}else throw Error(I(198));Eo||(Eo=!0,Yl=u)}}function bn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pf(t){if(bn(t)!==t)throw Error(I(188))}function r0(t){var e=t.alternate;if(!e){if(e=bn(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return pf(i),t;if(s===r)return pf(i),e;s=s.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function Jp(t){if(t=r0(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function mf(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var Zp,Ec,em,tm,Xl=!1,gt=[],zt=null,Ht=null,qt=null,Vi=new Map,Bi=new Map,ti=[],gf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jl(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function yf(t,e){switch(t){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Vi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(e.pointerId)}}function ni(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=Jl(e,n,r,i,s),e!==null&&(e=fs(e),e!==null&&Ec(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function i0(t,e,n,r,i){switch(e){case"focusin":return zt=ni(zt,t,e,n,r,i),!0;case"dragenter":return Ht=ni(Ht,t,e,n,r,i),!0;case"mouseover":return qt=ni(qt,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Vi.set(s,ni(Vi.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Bi.set(s,ni(Bi.get(s)||null,t,e,n,r,i)),!0}return!1}function s0(t){var e=wn(t.target);if(e!==null){var n=bn(e);if(n!==null){if(e=n.tag,e===13){if(e=Xp(n),e!==null){t.blockedOn=e,tm(t.lanePriority,function(){ye.unstable_runWithPriority(t.priority,function(){em(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=fs(n),e!==null&&Ec(e),t.blockedOn=n,!1;e.shift()}return!0}function vf(t,e,n){eo(t)&&n.delete(e)}function o0(){for(Xl=!1;0<gt.length;){var t=gt[0];if(t.blockedOn!==null){t=fs(t.blockedOn),t!==null&&Zp(t);break}for(var e=t.targetContainers;0<e.length;){var n=kc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&gt.shift()}zt!==null&&eo(zt)&&(zt=null),Ht!==null&&eo(Ht)&&(Ht=null),qt!==null&&eo(qt)&&(qt=null),Vi.forEach(vf),Bi.forEach(vf)}function ri(t,e){t.blockedOn===e&&(t.blockedOn=null,Xl||(Xl=!0,ye.unstable_scheduleCallback(ye.unstable_NormalPriority,o0)))}function nm(t){function e(i){return ri(i,t)}if(0<gt.length){ri(gt[0],t);for(var n=1;n<gt.length;n++){var r=gt[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zt!==null&&ri(zt,t),Ht!==null&&ri(Ht,t),qt!==null&&ri(qt,t),Vi.forEach(e),Bi.forEach(e),n=0;n<ti.length;n++)r=ti[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ti.length&&(n=ti[0],n.blockedOn===null);)s0(n),n.blockedOn===null&&ti.shift()}function Bs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zn={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionend:Bs("Transition","TransitionEnd")},rl={},rm={};Rt&&(rm=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function la(t){if(rl[t])return rl[t];if(!Zn[t])return t;var e=Zn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rm)return rl[t]=e[n];return t}var im=la("animationend"),sm=la("animationiteration"),om=la("animationstart"),am=la("transitionend"),lm=new Map,Tc=new Map,a0=["abort","abort",im,"animationEnd",sm,"animationIteration",om,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",am,"transitionEnd","waiting","waiting"];function Sc(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Tc.set(r,e),lm.set(r,i),Bn(i,[r])}}var l0=ye.unstable_now;l0();var Y=8;function Xn(t){if((1&t)!==0)return Y=15,1;if((2&t)!==0)return Y=14,2;if((4&t)!==0)return Y=13,4;var e=24&t;return e!==0?(Y=12,e):(t&32)!==0?(Y=11,32):(e=192&t,e!==0?(Y=10,e):(t&256)!==0?(Y=9,256):(e=3584&t,e!==0?(Y=8,e):(t&4096)!==0?(Y=7,4096):(e=4186112&t,e!==0?(Y=6,e):(e=62914560&t,e!==0?(Y=5,e):t&67108864?(Y=4,67108864):(t&134217728)!==0?(Y=3,134217728):(e=805306368&t,e!==0?(Y=2,e):(1073741824&t)!==0?(Y=1,1073741824):(Y=8,t))))))}function u0(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function c0(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(I(358,t))}}function ji(t,e){var n=t.pendingLanes;if(n===0)return Y=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,a=t.pingedLanes;if(s!==0)r=s,i=Y=15;else if(s=n&134217727,s!==0){var l=s&~o;l!==0?(r=Xn(l),i=Y):(a&=s,a!==0&&(r=Xn(a),i=Y))}else s=n&~o,s!==0?(r=Xn(s),i=Y):a!==0&&(r=Xn(a),i=Y);if(r===0)return 0;if(r=31-tn(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&o)===0){if(Xn(e),i<=Y)return e;Y=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tn(e),i=1<<n,r|=t[n],e&=~i;return r}function um(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function To(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Jn(24&~e),t===0?To(10,e):t;case 10:return t=Jn(192&~e),t===0?To(8,e):t;case 8:return t=Jn(3584&~e),t===0&&(t=Jn(4186112&~e),t===0&&(t=512)),t;case 2:return e=Jn(805306368&~e),e===0&&(e=268435456),e}throw Error(I(358,t))}function Jn(t){return t&-t}function il(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ua(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-tn(e),t[e]=n}var tn=Math.clz32?Math.clz32:d0,h0=Math.log,f0=Math.LN2;function d0(t){return t===0?32:31-(h0(t)/f0|0)|0}var p0=ye.unstable_UserBlockingPriority,m0=ye.unstable_runWithPriority,to=!0;function g0(t,e,n,r){vn||vc();var i=Cc,s=vn;vn=!0;try{Qp(i,t,e,n,r)}finally{(vn=s)||wc()}}function y0(t,e,n,r){m0(p0,Cc.bind(null,t,e,n,r))}function Cc(t,e,n,r){if(to){var i;if((i=(e&4)===0)&&0<gt.length&&-1<gf.indexOf(t))t=Jl(null,t,e,n,r),gt.push(t);else{var s=kc(t,e,n,r);if(s===null)i&&yf(t,r);else{if(i){if(-1<gf.indexOf(t)){t=Jl(s,t,e,n,r),gt.push(t);return}if(i0(s,t,e,n,r))return;yf(t,r)}Sm(t,e,r,null,n)}}}}function kc(t,e,n,r){var i=gc(r);if(i=wn(i),i!==null){var s=bn(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=Xp(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Sm(t,e,r,i,n),null}var Vt=null,Ic=null,no=null;function cm(){if(no)return no;var t,e=Ic,n=e.length,r,i="value"in Vt?Vt.value:Vt.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return no=i.slice(t,1<r?1-r:void 0)}function ro(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function js(){return!0}function wf(){return!1}function nt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?js:wf,this.isPropagationStopped=wf,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),e}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=nt(Fr),hs=ie({},Fr,{view:0,detail:0}),v0=nt(hs),sl,ol,ii,ca=ie({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ii&&(ii&&t.type==="mousemove"?(sl=t.screenX-ii.screenX,ol=t.screenY-ii.screenY):ol=sl=0,ii=t),sl)},movementY:function(t){return"movementY"in t?t.movementY:ol}}),Ef=nt(ca),w0=ie({},ca,{dataTransfer:0}),E0=nt(w0),T0=ie({},hs,{relatedTarget:0}),al=nt(T0),S0=ie({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),C0=nt(S0),k0=ie({},Fr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),I0=nt(k0),_0=ie({},Fr,{data:0}),Tf=nt(_0),N0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=A0[t])?!!e[t]:!1}function Nc(){return D0}var O0=ie({},hs,{key:function(t){if(t.key){var e=N0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ro(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?x0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nc,charCode:function(t){return t.type==="keypress"?ro(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ro(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),R0=nt(O0),P0=ie({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sf=nt(P0),L0=ie({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nc}),$0=nt(L0),M0=ie({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),F0=nt(M0),U0=ie({},ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),V0=nt(U0),B0=[9,13,27,32],xc=Rt&&"CompositionEvent"in window,ki=null;Rt&&"documentMode"in document&&(ki=document.documentMode);var j0=Rt&&"TextEvent"in window&&!ki,hm=Rt&&(!xc||ki&&8<ki&&11>=ki),Cf=String.fromCharCode(32),kf=!1;function fm(t,e){switch(t){case"keyup":return B0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var er=!1;function b0(t,e){switch(t){case"compositionend":return dm(e);case"keypress":return e.which!==32?null:(kf=!0,Cf);case"textInput":return t=e.data,t===Cf&&kf?null:t;default:return null}}function z0(t,e){if(er)return t==="compositionend"||!xc&&fm(t,e)?(t=cm(),no=Ic=Vt=null,er=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hm&&e.locale!=="ko"?null:e.data;default:return null}}var H0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!H0[t.type]:e==="textarea"}function pm(t,e,n,r){Wp(r),e=So(e,"onChange"),0<e.length&&(n=new _c("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ii=null,bi=null;function q0(t){wm(t,0)}function ha(t){var e=nr(t);if(Bp(e))return t}function K0(t,e){if(t==="change")return e}var mm=!1;if(Rt){var ll;if(Rt){var ul="oninput"in document;if(!ul){var _f=document.createElement("div");_f.setAttribute("oninput","return;"),ul=typeof _f.oninput=="function"}ll=ul}else ll=!1;mm=ll&&(!document.documentMode||9<document.documentMode)}function Nf(){Ii&&(Ii.detachEvent("onpropertychange",gm),bi=Ii=null)}function gm(t){if(t.propertyName==="value"&&ha(bi)){var e=[];if(pm(e,bi,t,gc(t)),t=q0,vn)t(e);else{vn=!0;try{yc(t,e)}finally{vn=!1,wc()}}}}function W0(t,e,n){t==="focusin"?(Nf(),Ii=e,bi=n,Ii.attachEvent("onpropertychange",gm)):t==="focusout"&&Nf()}function G0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ha(bi)}function Q0(t,e){if(t==="click")return ha(e)}function Y0(t,e){if(t==="input"||t==="change")return ha(e)}function X0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var it=typeof Object.is=="function"?Object.is:X0,J0=Object.prototype.hasOwnProperty;function zi(t,e){if(it(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!J0.call(e,n[r])||!it(t[n[r]],e[n[r]]))return!1;return!0}function xf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Af(t,e){var n=xf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xf(n)}}function ym(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ym(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Df(){for(var t=window,e=vo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vo(t.document)}return e}function Zl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Z0=Rt&&"documentMode"in document&&11>=document.documentMode,tr=null,eu=null,_i=null,tu=!1;function Of(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tu||tr==null||tr!==vo(r)||(r=tr,"selectionStart"in r&&Zl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_i&&zi(_i,r)||(_i=r,r=So(eu,"onSelect"),0<r.length&&(e=new _c("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=tr)))}Sc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Sc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Sc(a0,2);for(var Rf="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),cl=0;cl<Rf.length;cl++)Tc.set(Rf[cl],0);Sr("onMouseEnter",["mouseout","mouseover"]);Sr("onMouseLeave",["mouseout","mouseover"]);Sr("onPointerEnter",["pointerout","pointerover"]);Sr("onPointerLeave",["pointerout","pointerover"]);Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vm=new Set("cancel close invalid load scroll toggle".split(" ").concat(mi));function Pf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,n0(r,e,void 0,t),t.currentTarget=null}function wm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Pf(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Pf(i,a,u),s=l}}}if(Eo)throw t=Yl,Eo=!1,Yl=null,t}function J(t,e){var n=km(e),r=t+"__bubble";n.has(r)||(Tm(e,t,2,!1),n.add(r))}var Lf="_reactListening"+Math.random().toString(36).slice(2);function Em(t){t[Lf]||(t[Lf]=!0,Fp.forEach(function(e){vm.has(e)||$f(e,!1,t,null),$f(e,!0,t,null)}))}function $f(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!e&&vm.has(t)){if(t!=="scroll")return;i|=2,s=r}var o=km(s),a=t+"__"+(e?"capture":"bubble");o.has(a)||(e&&(i|=4),Tm(s,t,i,e),o.add(a))}function Tm(t,e,n,r){var i=Tc.get(e);switch(i===void 0?2:i){case 0:i=g0;break;case 1:i=y0;break;default:i=Cc}n=i.bind(null,e,n,t),i=void 0,!Ql||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sm(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=wn(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Jv(function(){var u=s,h=gc(n),m=[];e:{var d=lm.get(t);if(d!==void 0){var g=_c,w=t;switch(t){case"keypress":if(ro(n)===0)break e;case"keydown":case"keyup":g=R0;break;case"focusin":w="focus",g=al;break;case"focusout":w="blur",g=al;break;case"beforeblur":case"afterblur":g=al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=E0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=$0;break;case im:case sm:case om:g=C0;break;case am:g=F0;break;case"scroll":g=v0;break;case"wheel":g=V0;break;case"copy":case"cut":case"paste":g=I0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Sf}var E=(e&4)!==0,p=!E&&t==="scroll",c=E?d!==null?d+"Capture":null:d;E=[];for(var f=u,y;f!==null;){y=f;var v=y.stateNode;if(y.tag===5&&v!==null&&(y=v,c!==null&&(v=Ui(f,c),v!=null&&E.push(Hi(f,v,y)))),p)break;f=f.return}0<E.length&&(d=new g(d,w,null,n,h),m.push({event:d,listeners:E}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&(e&16)===0&&(w=n.relatedTarget||n.fromElement)&&(wn(w)||w[Ur]))break e;if((g||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?wn(w):null,w!==null&&(p=bn(w),w!==p||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(E=Ef,v="onMouseLeave",c="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(E=Sf,v="onPointerLeave",c="onPointerEnter",f="pointer"),p=g==null?d:nr(g),y=w==null?d:nr(w),d=new E(v,f+"leave",g,n,h),d.target=p,d.relatedTarget=y,v=null,wn(h)===u&&(E=new E(c,f+"enter",w,n,h),E.target=y,E.relatedTarget=p,v=E),p=v,g&&w)t:{for(E=g,c=w,f=0,y=E;y;y=Qn(y))f++;for(y=0,v=c;v;v=Qn(v))y++;for(;0<f-y;)E=Qn(E),f--;for(;0<y-f;)c=Qn(c),y--;for(;f--;){if(E===c||c!==null&&E===c.alternate)break t;E=Qn(E),c=Qn(c)}E=null}else E=null;g!==null&&Mf(m,d,g,E,!1),w!==null&&p!==null&&Mf(m,p,w,E,!0)}}e:{if(d=u?nr(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var T=K0;else if(If(d))if(mm)T=Y0;else{T=G0;var C=W0}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=Q0);if(T&&(T=T(t,u))){pm(m,T,n,h);break e}C&&C(t,d,u),t==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&jl(d,"number",d.value)}switch(C=u?nr(u):window,t){case"focusin":(If(C)||C.contentEditable==="true")&&(tr=C,eu=u,_i=null);break;case"focusout":_i=eu=tr=null;break;case"mousedown":tu=!0;break;case"contextmenu":case"mouseup":case"dragend":tu=!1,Of(m,n,h);break;case"selectionchange":if(Z0)break;case"keydown":case"keyup":Of(m,n,h)}var D;if(xc)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else er?fm(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(hm&&n.locale!=="ko"&&(er||O!=="onCompositionStart"?O==="onCompositionEnd"&&er&&(D=cm()):(Vt=h,Ic="value"in Vt?Vt.value:Vt.textContent,er=!0)),C=So(u,O),0<C.length&&(O=new Tf(O,t,null,n,h),m.push({event:O,listeners:C}),D?O.data=D:(D=dm(n),D!==null&&(O.data=D)))),(D=j0?b0(t,n):z0(t,n))&&(u=So(u,"onBeforeInput"),0<u.length&&(h=new Tf("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:u}),h.data=D))}wm(m,e)})}function Hi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function So(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ui(t,n),s!=null&&r.unshift(Hi(t,s,i)),s=Ui(t,e),s!=null&&r.push(Hi(t,s,i))),t=t.return}return r}function Qn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Mf(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ui(n,s),l!=null&&o.unshift(Hi(n,l,a))):i||(l=Ui(n,s),l!=null&&o.push(Hi(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}function Co(){}var hl=null,fl=null;function Cm(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function nu(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,e1=typeof clearTimeout=="function"?clearTimeout:void 0;function Ac(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function hr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Uf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var dl=0;function t1(t){return{$$typeof:pc,toString:t,valueOf:t}}var fa=Math.random().toString(36).slice(2),Bt="__reactFiber$"+fa,ko="__reactProps$"+fa,Ur="__reactContainer$"+fa,Vf="__reactEvents$"+fa;function wn(t){var e=t[Bt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ur]||n[Bt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uf(t);t!==null;){if(n=t[Bt])return n;t=Uf(t)}return e}t=n,n=t.parentNode}return null}function fs(t){return t=t[Bt]||t[Ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function nr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function da(t){return t[ko]||null}function km(t){var e=t[Vf];return e===void 0&&(e=t[Vf]=new Set),e}var ru=[],rr=-1;function cn(t){return{current:t}}function Z(t){0>rr||(t.current=ru[rr],ru[rr]=null,rr--)}function le(t,e){rr++,ru[rr]=t.current,t.current=e}var nn={},Me=cn(nn),Ge=cn(!1),An=nn;function Cr(t,e){var n=t.type.contextTypes;if(!n)return nn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qe(t){return t=t.childContextTypes,t!=null}function Io(){Z(Ge),Z(Me)}function Bf(t,e,n){if(Me.current!==nn)throw Error(I(168));le(Me,e),le(Ge,n)}function Im(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(I(108,ar(e)||"Unknown",i));return ie({},n,r)}function io(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||nn,An=Me.current,le(Me,t),le(Ge,Ge.current),!0}function jf(t,e,n){var r=t.stateNode;if(!r)throw Error(I(169));n?(t=Im(t,e,An),r.__reactInternalMemoizedMergedChildContext=t,Z(Ge),Z(Me),le(Me,t)):Z(Ge),le(Ge,n)}var Dc=null,In=null,n1=ye.unstable_runWithPriority,Oc=ye.unstable_scheduleCallback,iu=ye.unstable_cancelCallback,r1=ye.unstable_shouldYield,bf=ye.unstable_requestPaint,su=ye.unstable_now,i1=ye.unstable_getCurrentPriorityLevel,pa=ye.unstable_ImmediatePriority,_m=ye.unstable_UserBlockingPriority,Nm=ye.unstable_NormalPriority,xm=ye.unstable_LowPriority,Am=ye.unstable_IdlePriority,pl={},s1=bf!==void 0?bf:function(){},It=null,so=null,ml=!1,zf=su(),Re=1e4>zf?su:function(){return su()-zf};function kr(){switch(i1()){case pa:return 99;case _m:return 98;case Nm:return 97;case xm:return 96;case Am:return 95;default:throw Error(I(332))}}function Dm(t){switch(t){case 99:return pa;case 98:return _m;case 97:return Nm;case 96:return xm;case 95:return Am;default:throw Error(I(332))}}function Dn(t,e){return t=Dm(t),n1(t,e)}function qi(t,e,n){return t=Dm(t),Oc(t,e,n)}function St(){if(so!==null){var t=so;so=null,iu(t)}Om()}function Om(){if(!ml&&It!==null){ml=!0;var t=0;try{var e=It;Dn(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),It=null}catch(n){throw It!==null&&(It=It.slice(t+1)),Oc(pa,St),n}finally{ml=!1}}}var o1=jn.ReactCurrentBatchConfig;function ft(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var _o=cn(null),No=null,ir=null,xo=null;function Rc(){xo=ir=No=null}function Pc(t){var e=_o.current;Z(_o),t.type._context._currentValue=e}function Rm(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function fr(t,e){No=t,xo=ir=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(dt=!0),t.firstContext=null)}function at(t,e){if(xo!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(xo=t,e=1073741823),e={context:t,observedBits:e,next:null},ir===null){if(No===null)throw Error(I(308));ir=e,No.dependencies={lanes:0,firstContext:e,responders:null}}else ir=ir.next=e;return t._currentValue}var Ft=!1;function Lc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Pm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wt(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Hf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ki(t,e,n,r){var i=t.updateQueue;Ft=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;if(h!==null){h=h.updateQueue;var m=h.lastBaseUpdate;m!==o&&(m===null?h.firstBaseUpdate=u:m.next=u,h.lastBaseUpdate=l)}}if(s!==null){m=i.baseState,o=0,h=u=l=null;do{a=s.lane;var d=s.eventTime;if((r&a)===a){h!==null&&(h=h.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,w=s;switch(a=e,d=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){m=g.call(d,m,a);break e}m=g;break e;case 3:g.flags=g.flags&-4097|64;case 0:if(g=w.payload,a=typeof g=="function"?g.call(d,m,a):g,a==null)break e;m=ie({},m,a);break e;case 2:Ft=!0}}s.callback!==null&&(t.flags|=32,a=i.effects,a===null?i.effects=[s]:a.push(s))}else d={eventTime:d,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(u=h=d,l=m):h=h.next=d,o|=a;if(s=s.next,s===null){if(a=i.shared.pending,a===null)break;s=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);h===null&&(l=m),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,ps|=o,t.lanes=o,t.memoizedState=m}}function qf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var Lm=new sa.Component().refs;function Ao(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ma={isMounted:function(t){return(t=t._reactInternals)?bn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Je(),i=Gt(t),s=Kt(r,i);s.payload=e,n!=null&&(s.callback=n),Wt(t,s),Qt(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Je(),i=Gt(t),s=Kt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),Wt(t,s),Qt(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Je(),r=Gt(t),i=Kt(n,r);i.tag=2,e!=null&&(i.callback=e),Wt(t,i),Qt(t,r,n)}};function Kf(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!zi(n,r)||!zi(i,s):!0}function $m(t,e,n){var r=!1,i=nn,s=e.contextType;return typeof s=="object"&&s!==null?s=at(s):(i=Qe(e)?An:Me.current,r=e.contextTypes,s=(r=r!=null)?Cr(t,i):nn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ma,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Wf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ma.enqueueReplaceState(e,e.state,null)}function ou(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Lm,Lc(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=at(s):(s=Qe(e)?An:Me.current,i.context=Cr(t,s)),Ki(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ao(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ma.enqueueReplaceState(i,i.state,null),Ki(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var bs=Array.isArray;function si(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===Lm&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function zs(t,e){if(t.type!=="textarea")throw Error(I(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Mm(t){function e(p,c){if(t){var f=p.lastEffect;f!==null?(f.nextEffect=c,p.lastEffect=c):p.firstEffect=p.lastEffect=c,c.nextEffect=null,c.flags=8}}function n(p,c){if(!t)return null;for(;c!==null;)e(p,c),c=c.sibling;return null}function r(p,c){for(p=new Map;c!==null;)c.key!==null?p.set(c.key,c):p.set(c.index,c),c=c.sibling;return p}function i(p,c){return p=sn(p,c),p.index=0,p.sibling=null,p}function s(p,c,f){return p.index=f,t?(f=p.alternate,f!==null?(f=f.index,f<c?(p.flags=2,c):f):(p.flags=2,c)):c}function o(p){return t&&p.alternate===null&&(p.flags=2),p}function a(p,c,f,y){return c===null||c.tag!==6?(c=El(f,p.mode,y),c.return=p,c):(c=i(c,f),c.return=p,c)}function l(p,c,f,y){return c!==null&&c.elementType===f.type?(y=i(c,f.props),y.ref=si(p,c,f),y.return=p,y):(y=uo(f.type,f.key,f.props,null,p.mode,y),y.ref=si(p,c,f),y.return=p,y)}function u(p,c,f,y){return c===null||c.tag!==4||c.stateNode.containerInfo!==f.containerInfo||c.stateNode.implementation!==f.implementation?(c=Tl(f,p.mode,y),c.return=p,c):(c=i(c,f.children||[]),c.return=p,c)}function h(p,c,f,y,v){return c===null||c.tag!==7?(c=gr(f,p.mode,y,v),c.return=p,c):(c=i(c,f),c.return=p,c)}function m(p,c,f){if(typeof c=="string"||typeof c=="number")return c=El(""+c,p.mode,f),c.return=p,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case di:return f=uo(c.type,c.key,c.props,null,p.mode,f),f.ref=si(p,null,c),f.return=p,f;case yn:return c=Tl(c,p.mode,f),c.return=p,c}if(bs(c)||Zr(c))return c=gr(c,p.mode,f,null),c.return=p,c;zs(p,c)}return null}function d(p,c,f,y){var v=c!==null?c.key:null;if(typeof f=="string"||typeof f=="number")return v!==null?null:a(p,c,""+f,y);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case di:return f.key===v?f.type===Ut?h(p,c,f.props.children,y,v):l(p,c,f,y):null;case yn:return f.key===v?u(p,c,f,y):null}if(bs(f)||Zr(f))return v!==null?null:h(p,c,f,y,null);zs(p,f)}return null}function g(p,c,f,y,v){if(typeof y=="string"||typeof y=="number")return p=p.get(f)||null,a(c,p,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case di:return p=p.get(y.key===null?f:y.key)||null,y.type===Ut?h(c,p,y.props.children,v,y.key):l(c,p,y,v);case yn:return p=p.get(y.key===null?f:y.key)||null,u(c,p,y,v)}if(bs(y)||Zr(y))return p=p.get(f)||null,h(c,p,y,v,null);zs(c,y)}return null}function w(p,c,f,y){for(var v=null,T=null,C=c,D=c=0,O=null;C!==null&&D<f.length;D++){C.index>D?(O=C,C=null):O=C.sibling;var S=d(p,C,f[D],y);if(S===null){C===null&&(C=O);break}t&&C&&S.alternate===null&&e(p,C),c=s(S,c,D),T===null?v=S:T.sibling=S,T=S,C=O}if(D===f.length)return n(p,C),v;if(C===null){for(;D<f.length;D++)C=m(p,f[D],y),C!==null&&(c=s(C,c,D),T===null?v=C:T.sibling=C,T=C);return v}for(C=r(p,C);D<f.length;D++)O=g(C,p,D,f[D],y),O!==null&&(t&&O.alternate!==null&&C.delete(O.key===null?D:O.key),c=s(O,c,D),T===null?v=O:T.sibling=O,T=O);return t&&C.forEach(function(L){return e(p,L)}),v}function E(p,c,f,y){var v=Zr(f);if(typeof v!="function")throw Error(I(150));if(f=v.call(f),f==null)throw Error(I(151));for(var T=v=null,C=c,D=c=0,O=null,S=f.next();C!==null&&!S.done;D++,S=f.next()){C.index>D?(O=C,C=null):O=C.sibling;var L=d(p,C,S.value,y);if(L===null){C===null&&(C=O);break}t&&C&&L.alternate===null&&e(p,C),c=s(L,c,D),T===null?v=L:T.sibling=L,T=L,C=O}if(S.done)return n(p,C),v;if(C===null){for(;!S.done;D++,S=f.next())S=m(p,S.value,y),S!==null&&(c=s(S,c,D),T===null?v=S:T.sibling=S,T=S);return v}for(C=r(p,C);!S.done;D++,S=f.next())S=g(C,p,D,S.value,y),S!==null&&(t&&S.alternate!==null&&C.delete(S.key===null?D:S.key),c=s(S,c,D),T===null?v=S:T.sibling=S,T=S);return t&&C.forEach(function(ue){return e(p,ue)}),v}return function(p,c,f,y){var v=typeof f=="object"&&f!==null&&f.type===Ut&&f.key===null;v&&(f=f.props.children);var T=typeof f=="object"&&f!==null;if(T)switch(f.$$typeof){case di:e:{for(T=f.key,v=c;v!==null;){if(v.key===T){switch(v.tag){case 7:if(f.type===Ut){n(p,v.sibling),c=i(v,f.props.children),c.return=p,p=c;break e}break;default:if(v.elementType===f.type){n(p,v.sibling),c=i(v,f.props),c.ref=si(p,v,f),c.return=p,p=c;break e}}n(p,v);break}else e(p,v);v=v.sibling}f.type===Ut?(c=gr(f.props.children,p.mode,y,f.key),c.return=p,p=c):(y=uo(f.type,f.key,f.props,null,p.mode,y),y.ref=si(p,c,f),y.return=p,p=y)}return o(p);case yn:e:{for(v=f.key;c!==null;){if(c.key===v)if(c.tag===4&&c.stateNode.containerInfo===f.containerInfo&&c.stateNode.implementation===f.implementation){n(p,c.sibling),c=i(c,f.children||[]),c.return=p,p=c;break e}else{n(p,c);break}else e(p,c);c=c.sibling}c=Tl(f,p.mode,y),c.return=p,p=c}return o(p)}if(typeof f=="string"||typeof f=="number")return f=""+f,c!==null&&c.tag===6?(n(p,c.sibling),c=i(c,f),c.return=p,p=c):(n(p,c),c=El(f,p.mode,y),c.return=p,p=c),o(p);if(bs(f))return w(p,c,f,y);if(Zr(f))return E(p,c,f,y);if(T&&zs(p,f),typeof f=="undefined"&&!v)switch(p.tag){case 1:case 22:case 0:case 11:case 15:throw Error(I(152,ar(p.type)||"Component"))}return n(p,c)}}var Do=Mm(!0),Fm=Mm(!1),ds={},wt=cn(ds),Wi=cn(ds),Gi=cn(ds);function En(t){if(t===ds)throw Error(I(174));return t}function au(t,e){switch(le(Gi,e),le(Wi,t),le(wt,ds),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ql(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ql(e,t)}Z(wt),le(wt,e)}function Ir(){Z(wt),Z(Wi),Z(Gi)}function Gf(t){En(Gi.current);var e=En(wt.current),n=ql(e,t.type);e!==n&&(le(Wi,t),le(wt,n))}function $c(t){Wi.current===t&&(Z(wt),Z(Wi))}var ae=cn(0);function Oo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nt=null,jt=null,Et=!1;function Um(t,e){var n=st(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Qf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function lu(t){if(Et){var e=jt;if(e){var n=e;if(!Qf(t,e)){if(e=hr(n.nextSibling),!e||!Qf(t,e)){t.flags=t.flags&-1025|2,Et=!1,Nt=t;return}Um(Nt,n)}Nt=t,jt=hr(e.firstChild)}else t.flags=t.flags&-1025|2,Et=!1,Nt=t}}function Yf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nt=t}function Hs(t){if(t!==Nt)return!1;if(!Et)return Yf(t),Et=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!nu(e,t.memoizedProps))for(e=jt;e;)Um(t,e),e=hr(e.nextSibling);if(Yf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jt=hr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jt=null}}else jt=Nt?hr(t.stateNode.nextSibling):null;return!0}function gl(){jt=Nt=null,Et=!1}var dr=[];function Mc(){for(var t=0;t<dr.length;t++)dr[t]._workInProgressVersionPrimary=null;dr.length=0}var Ni=jn.ReactCurrentDispatcher,ot=jn.ReactCurrentBatchConfig,Qi=0,ce=null,De=null,Te=null,Ro=!1,xi=!1;function ze(){throw Error(I(321))}function Fc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!it(t[n],e[n]))return!1;return!0}function Uc(t,e,n,r,i,s){if(Qi=s,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ni.current=t===null||t.memoizedState===null?l1:u1,t=n(r,i),xi){s=0;do{if(xi=!1,!(25>s))throw Error(I(301));s+=1,Te=De=null,e.updateQueue=null,Ni.current=c1,t=n(r,i)}while(xi)}if(Ni.current=Mo,e=De!==null&&De.next!==null,Qi=0,Te=De=ce=null,Ro=!1,e)throw Error(I(300));return t}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?ce.memoizedState=Te=t:Te=Te.next=t,Te}function zn(){if(De===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=Te===null?ce.memoizedState:Te.next;if(e!==null)Te=e,De=t;else{if(t===null)throw Error(I(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Te===null?ce.memoizedState=Te=t:Te=Te.next=t}return Te}function yt(t,e){return typeof e=="function"?e(t):e}function oi(t){var e=zn(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=De,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=o=s=null,l=i;do{var u=l.lane;if((Qi&u)===u)a!==null&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var h={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};a===null?(o=a=h,s=r):a=a.next=h,ce.lanes|=u,ps|=u}l=l.next}while(l!==null&&l!==i);a===null?s=r:a.next=o,it(r,e.memoizedState)||(dt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ai(t){var e=zn(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);it(s,e.memoizedState)||(dt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Xf(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(Qi&t)===t)&&(e._workInProgressVersionPrimary=r,dr.push(e))),t)return n(e._source);throw dr.push(e),Error(I(350))}function Vm(t,e,n,r){var i=je;if(i===null)throw Error(I(349));var s=e._getVersion,o=s(e._source),a=Ni.current,l=a.useState(function(){return Xf(i,e,n)}),u=l[1],h=l[0];l=Te;var m=t.memoizedState,d=m.refs,g=d.getSnapshot,w=m.source;m=m.subscribe;var E=ce;return t.memoizedState={refs:d,source:e,subscribe:r},a.useEffect(function(){d.getSnapshot=n,d.setSnapshot=u;var p=s(e._source);if(!it(o,p)){p=n(e._source),it(h,p)||(u(p),p=Gt(E),i.mutableReadLanes|=p&i.pendingLanes),p=i.mutableReadLanes,i.entangledLanes|=p;for(var c=i.entanglements,f=p;0<f;){var y=31-tn(f),v=1<<y;c[y]|=p,f&=~v}}},[n,e,r]),a.useEffect(function(){return r(e._source,function(){var p=d.getSnapshot,c=d.setSnapshot;try{c(p(e._source));var f=Gt(E);i.mutableReadLanes|=f&i.pendingLanes}catch(y){c(function(){throw y})}})},[e,r]),it(g,n)&&it(w,e)&&it(m,r)||(t={pending:null,dispatch:null,lastRenderedReducer:yt,lastRenderedState:h},t.dispatch=u=jc.bind(null,ce,t),l.queue=t,l.baseQueue=null,h=Xf(i,e,n),l.memoizedState=l.baseState=h),h}function Bm(t,e,n){var r=zn();return Vm(r,t,e,n)}function li(t){var e=Tn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:yt,lastRenderedState:t},t=t.dispatch=jc.bind(null,ce,t),[e.memoizedState,t]}function Po(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ce.updateQueue,e===null?(e={lastEffect:null},ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Jf(t){var e=Tn();return t={current:t},e.memoizedState=t}function Lo(){return zn().memoizedState}function uu(t,e,n,r){var i=Tn();ce.flags|=t,i.memoizedState=Po(1|e,n,void 0,r===void 0?null:r)}function Vc(t,e,n,r){var i=zn();r=r===void 0?null:r;var s=void 0;if(De!==null){var o=De.memoizedState;if(s=o.destroy,r!==null&&Fc(r,o.deps)){Po(e,n,s,r);return}}ce.flags|=t,i.memoizedState=Po(1|e,n,s,r)}function Zf(t,e){return uu(516,4,t,e)}function $o(t,e){return Vc(516,4,t,e)}function jm(t,e){return Vc(4,2,t,e)}function bm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zm(t,e,n){return n=n!=null?n.concat([t]):null,Vc(4,2,bm.bind(null,e,t),n)}function Bc(){}function Hm(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qm(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function a1(t,e){var n=kr();Dn(98>n?98:n,function(){t(!0)}),Dn(97<n?97:n,function(){var r=ot.transition;ot.transition=1;try{t(!1),e()}finally{ot.transition=r}})}function jc(t,e,n){var r=Je(),i=Gt(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===ce||o!==null&&o===ce)xi=Ro=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,n);if(s.eagerReducer=o,s.eagerState=l,it(l,a))return}catch{}finally{}Qt(t,i,r)}}var Mo={readContext:at,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useOpaqueIdentifier:ze,unstable_isNewReconciler:!1},l1={readContext:at,useCallback:function(t,e){return Tn().memoizedState=[t,e===void 0?null:e],t},useContext:at,useEffect:Zf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uu(4,2,bm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uu(4,2,t,e)},useMemo:function(t,e){var n=Tn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=jc.bind(null,ce,t),[r.memoizedState,t]},useRef:Jf,useState:li,useDebugValue:Bc,useDeferredValue:function(t){var e=li(t),n=e[0],r=e[1];return Zf(function(){var i=ot.transition;ot.transition=1;try{r(t)}finally{ot.transition=i}},[t]),n},useTransition:function(){var t=li(!1),e=t[0];return t=a1.bind(null,t[1]),Jf(t),[t,e]},useMutableSource:function(t,e,n){var r=Tn();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},Vm(r,t,e,n)},useOpaqueIdentifier:function(){if(Et){var t=!1,e=t1(function(){throw t||(t=!0,n("r:"+(dl++).toString(36))),Error(I(355))}),n=li(e)[1];return(ce.mode&2)===0&&(ce.flags|=516,Po(5,function(){n("r:"+(dl++).toString(36))},void 0,null)),e}return e="r:"+(dl++).toString(36),li(e),e},unstable_isNewReconciler:!1},u1={readContext:at,useCallback:Hm,useContext:at,useEffect:$o,useImperativeHandle:zm,useLayoutEffect:jm,useMemo:qm,useReducer:oi,useRef:Lo,useState:function(){return oi(yt)},useDebugValue:Bc,useDeferredValue:function(t){var e=oi(yt),n=e[0],r=e[1];return $o(function(){var i=ot.transition;ot.transition=1;try{r(t)}finally{ot.transition=i}},[t]),n},useTransition:function(){var t=oi(yt)[0];return[Lo().current,t]},useMutableSource:Bm,useOpaqueIdentifier:function(){return oi(yt)[0]},unstable_isNewReconciler:!1},c1={readContext:at,useCallback:Hm,useContext:at,useEffect:$o,useImperativeHandle:zm,useLayoutEffect:jm,useMemo:qm,useReducer:ai,useRef:Lo,useState:function(){return ai(yt)},useDebugValue:Bc,useDeferredValue:function(t){var e=ai(yt),n=e[0],r=e[1];return $o(function(){var i=ot.transition;ot.transition=1;try{r(t)}finally{ot.transition=i}},[t]),n},useTransition:function(){var t=ai(yt)[0];return[Lo().current,t]},useMutableSource:Bm,useOpaqueIdentifier:function(){return ai(yt)[0]},unstable_isNewReconciler:!1},h1=jn.ReactCurrentOwner,dt=!1;function He(t,e,n,r){e.child=t===null?Fm(e,null,n,r):Do(e,t.child,n,r)}function ed(t,e,n,r,i){n=n.render;var s=e.ref;return fr(e,i),r=Uc(t,e,n,r,s,i),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,xt(t,e,i)):(e.flags|=1,He(t,e,r,i),e.child)}function td(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!Wc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Km(t,e,o,r,i,s)):(t=uo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,(i&s)===0&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:zi,n(i,r)&&t.ref===e.ref)?xt(t,e,s):(e.flags|=1,t=sn(o,r),t.ref=e.ref,t.return=e,e.child=t)}function Km(t,e,n,r,i,s){if(t!==null&&zi(t.memoizedProps,r)&&t.ref===e.ref)if(dt=!1,(s&i)!==0)(t.flags&16384)!==0&&(dt=!0);else return e.lanes=t.lanes,xt(t,e,s);return cu(t,e,n,r,s)}function yl(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},Ks(e,n);else if((n&1073741824)!==0)e.memoizedState={baseLanes:0},Ks(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Ks(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ks(e,r);return He(t,e,i,n),e.child}function Wm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function cu(t,e,n,r,i){var s=Qe(n)?An:Me.current;return s=Cr(e,s),fr(e,i),n=Uc(t,e,n,r,s,i),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,xt(t,e,i)):(e.flags|=1,He(t,e,n,i),e.child)}function nd(t,e,n,r,i){if(Qe(n)){var s=!0;io(e)}else s=!1;if(fr(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),$m(e,n,r),ou(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=at(u):(u=Qe(n)?An:Me.current,u=Cr(e,u));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Wf(e,o,r,u),Ft=!1;var d=e.memoizedState;o.state=d,Ki(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Ge.current||Ft?(typeof h=="function"&&(Ao(e,n,h,r),l=e.memoizedState),(a=Ft||Kf(e,n,a,r,d,l,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,Pm(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ft(e.type,a),o.props=u,m=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=at(l):(l=Qe(n)?An:Me.current,l=Cr(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||d!==l)&&Wf(e,o,r,l),Ft=!1,d=e.memoizedState,o.state=d,Ki(e,r,o,i);var w=e.memoizedState;a!==m||d!==w||Ge.current||Ft?(typeof g=="function"&&(Ao(e,n,g,r),w=e.memoizedState),(u=Ft||Kf(e,n,u,r,d,w,l))?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),r=!1)}return hu(t,e,n,r,s,i)}function hu(t,e,n,r,i,s){Wm(t,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&jf(e,n,!1),xt(t,e,s);r=e.stateNode,h1.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Do(e,t.child,null,s),e.child=Do(e,null,a,s)):He(t,e,a,s),e.memoizedState=r.state,i&&jf(e,n,!0),e.child}function rd(t){var e=t.stateNode;e.pendingContext?Bf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Bf(t,e.context,!1),au(t,e.containerInfo)}var qs={dehydrated:null,retryLane:0};function id(t,e,n){var r=e.pendingProps,i=ae.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),le(ae,i&1),t===null?(r.fallback!==void 0&&lu(e),t=r.children,i=r.fallback,s?(t=sd(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=qs,t):typeof r.unstable_expectedLoadTime=="number"?(t=sd(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=qs,e.lanes=33554432,t):(n=Gc({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=ad(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=qs,r):(n=od(t,e,r.children,n),e.memoizedState=null,n):s?(r=ad(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=qs,r):(n=od(t,e,r.children,n),e.memoizedState=null,n)}function sd(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=Gc(e,i,0,null),n=gr(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function od(t,e,n,r){var i=t.child;return t=i.sibling,n=sn(i,{mode:"visible",children:n}),(e.mode&2)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function ad(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var a={mode:"hidden",children:n};return(s&2)===0&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=a,o=n.lastEffect,o!==null?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=sn(o,a),t!==null?r=sn(t,r):(r=gr(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function ld(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Rm(t.return,e)}function vl(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function ud(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(He(t,e,r.children,n),r=ae.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ld(t,n);else if(t.tag===19)ld(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(le(ae,r),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Oo(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),vl(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Oo(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}vl(e,!0,n,null,s,e.lastEffect);break;case"together":vl(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function xt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ps|=e.lanes,(n&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=sn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=sn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var Gm,fu,Qm,Ym;Gm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fu=function(){};Qm=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,En(wt.current);var s=null;switch(n){case"input":i=Vl(t,i),r=Vl(t,r),s=[];break;case"option":i=bl(t,i),r=bl(t,r),s=[];break;case"select":i=ie({},i,{value:void 0}),r=ie({},r,{value:void 0}),s=[];break;case"textarea":i=zl(t,i),r=zl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Co)}Kl(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&J("scroll",t),s||a===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===pc?l.toString():(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Ym=function(t,e,n,r){n!==r&&(e.flags|=4)};function ui(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function f1(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Qe(e.type)&&Io(),null;case 3:return Ir(),Z(Ge),Z(Me),Mc(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hs(e)?e.flags|=4:r.hydrate||(e.flags|=256)),fu(e),null;case 5:$c(e);var i=En(Gi.current);if(n=e.type,t!==null&&e.stateNode!=null)Qm(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(I(166));return null}if(t=En(wt.current),Hs(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Bt]=e,r[ko]=s,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(t=0;t<mi.length;t++)J(mi[t],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":uf(r,s),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},J("invalid",r);break;case"textarea":hf(r,s),J("invalid",r)}Kl(n,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):Mi.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&J("scroll",r));switch(n){case"input":Us(r),cf(r,s,!0);break;case"textarea":Us(r),ff(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Co)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===Hl.html&&(t=zp(n)),t===Hl.html?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Bt]=e,t[ko]=r,Gm(t,e,!1,!1),e.stateNode=t,o=Wl(n,r),n){case"dialog":J("cancel",t),J("close",t),i=r;break;case"iframe":case"object":case"embed":J("load",t),i=r;break;case"video":case"audio":for(i=0;i<mi.length;i++)J(mi[i],t);i=r;break;case"source":J("error",t),i=r;break;case"img":case"image":case"link":J("error",t),J("load",t),i=r;break;case"details":J("toggle",t),i=r;break;case"input":uf(t,r),i=Vl(t,r),J("invalid",t);break;case"option":i=bl(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ie({},r,{value:void 0}),J("invalid",t);break;case"textarea":hf(t,r),i=zl(t,r),J("invalid",t);break;default:i=r}Kl(n,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Kp(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Hp(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fi(t,l):typeof l=="number"&&Fi(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Mi.hasOwnProperty(s)?l!=null&&s==="onScroll"&&J("scroll",t):l!=null&&lc(t,s,l,o))}switch(n){case"input":Us(t),cf(t,r,!1);break;case"textarea":Us(t),ff(t);break;case"option":r.value!=null&&t.setAttribute("value",""+en(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?lr(t,!!r.multiple,s,!1):r.defaultValue!=null&&lr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Co)}Cm(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)Ym(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(I(166));n=En(Gi.current),En(wt.current),Hs(e)?(r=e.stateNode,n=e.memoizedProps,r[Bt]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bt]=e,e.stateNode=r)}return null;case 13:return Z(ae),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&Hs(e):n=t.memoizedState!==null,r&&!n&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(ae.current&1)!==0?Ce===0&&(Ce=3):((Ce===0||Ce===3)&&(Ce=4),je===null||(ps&134217727)===0&&(Br&134217727)===0||pr(je,Le))),(r||n)&&(e.flags|=4),null);case 4:return Ir(),fu(e),t===null&&Em(e.stateNode.containerInfo),null;case 10:return Pc(e),null;case 17:return Qe(e.type)&&Io(),null;case 19:if(Z(ae),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)ui(r,!1);else{if(Ce!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(o=Oo(t),o!==null){for(e.flags|=64,ui(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return le(ae,ae.current&1|2),e.child}t=t.sibling}r.tail!==null&&Re()>vu&&(e.flags|=64,s=!0,ui(r,!1),e.lanes=33554432)}else{if(!s)if(t=Oo(o),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ui(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Et)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Re()-r.renderingStartTime>vu&&n!==1073741824&&(e.flags|=64,s=!0,ui(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Re(),n.sibling=null,e=ae.current,le(ae,s?e&1|2:e&1),n):null;case 23:case 24:return Kc(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(I(156,e.tag))}function d1(t){switch(t.tag){case 1:Qe(t.type)&&Io();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Ir(),Z(Ge),Z(Me),Mc(),e=t.flags,(e&64)!==0)throw Error(I(285));return t.flags=e&-4097|64,t;case 5:return $c(t),null;case 13:return Z(ae),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return Z(ae),null;case 4:return Ir(),null;case 10:return Pc(t),null;case 23:case 24:return Kc(),null;default:return null}}function bc(t,e){try{var n="",r=e;do n+=Wv(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function du(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var p1=typeof WeakMap=="function"?WeakMap:Map;function Xm(t,e,n){n=Kt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Uo||(Uo=!0,wu=r),du(t,e)},n}function Jm(t,e,n){n=Kt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return du(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(vt===null?vt=new Set([this]):vt.add(this),du(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var m1=typeof WeakSet=="function"?WeakSet:Set;function cd(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Yt(t,n)}else e.current=null}function g1(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:ft(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Ac(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(I(163))}function y1(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(ag(n,t),I1(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:ft(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&qf(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}qf(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&Cm(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&nm(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(I(163))}function hd(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=qp("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function fd(t,e){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Dc,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)ag(e,n);else{r=e;try{i()}catch(s){Yt(r,s)}}n=n.next}while(n!==t)}break;case 1:if(cd(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Yt(e,s)}break;case 5:cd(e);break;case 4:Zm(t,e)}}function dd(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function pd(t){return t.tag===5||t.tag===3||t.tag===4}function md(t){e:{for(var e=t.return;e!==null;){if(pd(e))break e;e=e.return}throw Error(I(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(I(161))}n.flags&16&&(Fi(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||pd(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?pu(t,n,e):mu(t,n,e)}function pu(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Co));else if(r!==4&&(t=t.child,t!==null))for(pu(t,e,n),t=t.sibling;t!==null;)pu(t,e,n),t=t.sibling}function mu(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mu(t,e,n),t=t.sibling;t!==null;)mu(t,e,n),t=t.sibling}function Zm(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(I(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=t,a=n,l=a;;)if(fd(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(o=i,a=n.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(fd(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function wl(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[ko]=r,t==="input"&&r.type==="radio"&&r.name!=null&&jp(n,r),Wl(t,i),e=Wl(t,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?Kp(n,a):o==="dangerouslySetInnerHTML"?Hp(n,a):o==="children"?Fi(n,a):lc(n,o,a,e)}switch(t){case"input":Bl(n,r);break;case"textarea":bp(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?lr(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?lr(n,!!r.multiple,r.defaultValue,!0):lr(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(I(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,nm(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(qc=Re(),hd(e.child,!0)),gd(e);return;case 19:gd(e);return;case 17:return;case 23:case 24:hd(e,e.memoizedState!==null);return}throw Error(I(163))}function gd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new m1),e.forEach(function(r){var i=x1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function v1(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var w1=Math.ceil,Fo=jn.ReactCurrentDispatcher,zc=jn.ReactCurrentOwner,U=0,je=null,pe=null,Le=0,On=0,gu=cn(0),Ce=0,ga=null,Vr=0,ps=0,Br=0,Hc=0,yu=null,qc=0,vu=1/0;function jr(){vu=Re()+500}var A=null,Uo=!1,wu=null,vt=null,rn=!1,Ai=null,gi=90,Eu=[],Tu=[],Dt=null,Di=0,Su=null,oo=-1,_t=0,ao=0,Oi=null,lo=!1;function Je(){return(U&48)!==0?Re():oo!==-1?oo:oo=Re()}function Gt(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return kr()===99?1:2;if(_t===0&&(_t=Vr),o1.transition!==0){ao!==0&&(ao=yu!==null?yu.pendingLanes:0),t=_t;var e=4186112&~ao;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=kr(),(U&4)!==0&&t===98?t=To(12,_t):(t=u0(t),t=To(t,_t)),t}function Qt(t,e,n){if(50<Di)throw Di=0,Su=null,Error(I(185));if(t=ya(t,e),t===null)return null;ua(t,e,n),t===je&&(Br|=e,Ce===4&&pr(t,Le));var r=kr();e===1?(U&8)!==0&&(U&48)===0?Cu(t):(lt(t,n),U===0&&(jr(),St())):((U&4)===0||r!==98&&r!==99||(Dt===null?Dt=new Set([t]):Dt.add(t)),lt(t,n)),yu=t}function ya(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function lt(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-tn(o),l=1<<a,u=s[a];if(u===-1){if((l&r)===0||(l&i)!==0){u=e,Xn(l);var h=Y;s[a]=10<=h?u+250:6<=h?u+5e3:-1}}else u<=e&&(t.expiredLanes|=l);o&=~l}if(r=ji(t,t===je?Le:0),e=Y,r===0)n!==null&&(n!==pl&&iu(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==pl&&iu(n)}e===15?(n=Cu.bind(null,t),It===null?(It=[n],so=Oc(pa,Om)):It.push(n),n=pl):e===14?n=qi(99,Cu.bind(null,t)):(n=c0(e),n=qi(n,eg.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function eg(t){if(oo=-1,ao=_t=0,(U&48)!==0)throw Error(I(327));var e=t.callbackNode;if(hn()&&t.callbackNode!==e)return null;var n=ji(t,t===je?Le:0);if(n===0)return null;var r=n,i=U;U|=16;var s=ig();(je!==t||Le!==r)&&(jr(),mr(t,r));do try{S1();break}catch(a){rg(t,a)}while(1);if(Rc(),Fo.current=s,U=i,pe!==null?r=0:(je=null,Le=0,r=Ce),(Vr&Br)!==0)mr(t,0);else if(r!==0){if(r===2&&(U|=64,t.hydrate&&(t.hydrate=!1,Ac(t.containerInfo)),n=um(t),n!==0&&(r=yi(t,n))),r===1)throw e=ga,mr(t,0),pr(t,n),lt(t,Re()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(I(345));case 2:mn(t);break;case 3:if(pr(t,n),(n&62914560)===n&&(r=qc+500-Re(),10<r)){if(ji(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Je(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ff(mn.bind(null,t),r);break}mn(t);break;case 4:if(pr(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-tn(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=Re()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*w1(n/1960))-n,10<n){t.timeoutHandle=Ff(mn.bind(null,t),n);break}mn(t);break;case 5:mn(t);break;default:throw Error(I(329))}}return lt(t,Re()),t.callbackNode===e?eg.bind(null,t):null}function pr(t,e){for(e&=~Hc,e&=~Br,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tn(e),r=1<<n;t[n]=-1,e&=~r}}function Cu(t){if((U&48)!==0)throw Error(I(327));if(hn(),t===je&&(t.expiredLanes&Le)!==0){var e=Le,n=yi(t,e);(Vr&Br)!==0&&(e=ji(t,e),n=yi(t,e))}else e=ji(t,0),n=yi(t,e);if(t.tag!==0&&n===2&&(U|=64,t.hydrate&&(t.hydrate=!1,Ac(t.containerInfo)),e=um(t),e!==0&&(n=yi(t,e))),n===1)throw n=ga,mr(t,0),pr(t,e),lt(t,Re()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,mn(t),lt(t,Re()),null}function E1(){if(Dt!==null){var t=Dt;Dt=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,lt(e,Re())})}St()}function tg(t,e){var n=U;U|=1;try{return t(e)}finally{U=n,U===0&&(jr(),St())}}function ng(t,e){var n=U;U&=-2,U|=8;try{return t(e)}finally{U=n,U===0&&(jr(),St())}}function Ks(t,e){le(gu,On),On|=e,Vr|=e}function Kc(){On=gu.current,Z(gu)}function mr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,e1(n)),pe!==null)for(n=pe.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Io();break;case 3:Ir(),Z(Ge),Z(Me),Mc();break;case 5:$c(r);break;case 4:Ir();break;case 13:Z(ae);break;case 19:Z(ae);break;case 10:Pc(r);break;case 23:case 24:Kc()}n=n.return}je=t,pe=sn(t.current,null),Le=On=Vr=e,Ce=0,ga=null,Hc=Br=ps=0}function rg(t,e){do{var n=pe;try{if(Rc(),Ni.current=Mo,Ro){for(var r=ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ro=!1}if(Qi=0,Te=De=ce=null,xi=!1,zc.current=null,n===null||n.return===null){Ce=1,ga=e,pe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Le,a.flags|=2048,a.firstEffect=a.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l;if((a.mode&2)===0){var h=a.alternate;h?(a.updateQueue=h.updateQueue,a.memoizedState=h.memoizedState,a.lanes=h.lanes):(a.updateQueue=null,a.memoizedState=null)}var m=(ae.current&1)!==0,d=o;do{var g;if(g=d.tag===13){var w=d.memoizedState;if(w!==null)g=w.dehydrated!==null;else{var E=d.memoizedProps;g=E.fallback===void 0?!1:E.unstable_avoidThisFallback!==!0?!0:!m}}if(g){var p=d.updateQueue;if(p===null){var c=new Set;c.add(u),d.updateQueue=c}else p.add(u);if((d.mode&2)===0){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var f=Kt(-1,1);f.tag=2,Wt(a,f)}a.lanes|=1;break e}l=void 0,a=e;var y=s.pingCache;if(y===null?(y=s.pingCache=new p1,l=new Set,y.set(u,l)):(l=y.get(u),l===void 0&&(l=new Set,y.set(u,l))),!l.has(a)){l.add(a);var v=N1.bind(null,s,u,a);u.then(v,v)}d.flags|=4096,d.lanes=e;break e}d=d.return}while(d!==null);l=Error((ar(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Ce!==5&&(Ce=2),l=bc(l,a),d=o;do{switch(d.tag){case 3:s=l,d.flags|=4096,e&=-e,d.lanes|=e;var T=Xm(d,s,e);Hf(d,T);break e;case 1:s=l;var C=d.type,D=d.stateNode;if((d.flags&64)===0&&(typeof C.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(vt===null||!vt.has(D)))){d.flags|=4096,e&=-e,d.lanes|=e;var O=Jm(d,s,e);Hf(d,O);break e}}d=d.return}while(d!==null)}og(n)}catch(S){e=S,pe===n&&n!==null&&(pe=n=n.return);continue}break}while(1)}function ig(){var t=Fo.current;return Fo.current=Mo,t===null?Mo:t}function yi(t,e){var n=U;U|=16;var r=ig();je===t&&Le===e||mr(t,e);do try{T1();break}catch(i){rg(t,i)}while(1);if(Rc(),U=n,Fo.current=r,pe!==null)throw Error(I(261));return je=null,Le=0,Ce}function T1(){for(;pe!==null;)sg(pe)}function S1(){for(;pe!==null&&!r1();)sg(pe)}function sg(t){var e=lg(t.alternate,t,On);t.memoizedProps=t.pendingProps,e===null?og(t):pe=e,zc.current=null}function og(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&2048)===0){if(n=f1(n,e,On),n!==null){pe=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||(On&1073741824)!==0||(n.mode&4)===0){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(n=d1(e),n!==null){n.flags&=2047,pe=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){pe=e;return}pe=e=t}while(e!==null);Ce===0&&(Ce=5)}function mn(t){var e=kr();return Dn(99,C1.bind(null,t,e)),null}function C1(t,e){do hn();while(Ai!==null);if((U&48)!==0)throw Error(I(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,a=t.expirationTimes;0<s;){var l=31-tn(s),u=1<<l;i[l]=0,o[l]=-1,a[l]=-1,s&=~u}if(Dt!==null&&(r&24)===0&&Dt.has(t)&&Dt.delete(t),t===je&&(pe=je=null,Le=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=U,U|=32,zc.current=null,hl=to,o=Df(),Zl(o)){if("selectionStart"in o)a={start:o.selectionStart,end:o.selectionEnd};else e:if(a=(a=o.ownerDocument)&&a.defaultView||window,(u=a.getSelection&&a.getSelection())&&u.rangeCount!==0){a=u.anchorNode,s=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var h=0,m=-1,d=-1,g=0,w=0,E=o,p=null;t:for(;;){for(var c;E!==a||s!==0&&E.nodeType!==3||(m=h+s),E!==l||u!==0&&E.nodeType!==3||(d=h+u),E.nodeType===3&&(h+=E.nodeValue.length),(c=E.firstChild)!==null;)p=E,E=c;for(;;){if(E===o)break t;if(p===a&&++g===s&&(m=h),p===l&&++w===u&&(d=h),(c=E.nextSibling)!==null)break;E=p,p=E.parentNode}E=c}a=m===-1||d===-1?null:{start:m,end:d}}else a=null;a=a||{start:0,end:0}}else a=null;fl={focusedElem:o,selectionRange:a},to=!1,Oi=null,lo=!1,A=r;do try{k1()}catch(S){if(A===null)throw Error(I(330));Yt(A,S),A=A.nextEffect}while(A!==null);Oi=null,A=r;do try{for(o=t;A!==null;){var f=A.flags;if(f&16&&Fi(A.stateNode,""),f&128){var y=A.alternate;if(y!==null){var v=y.ref;v!==null&&(typeof v=="function"?v(null):v.current=null)}}switch(f&1038){case 2:md(A),A.flags&=-3;break;case 6:md(A),A.flags&=-3,wl(A.alternate,A);break;case 1024:A.flags&=-1025;break;case 1028:A.flags&=-1025,wl(A.alternate,A);break;case 4:wl(A.alternate,A);break;case 8:a=A,Zm(o,a);var T=a.alternate;dd(a),T!==null&&dd(T)}A=A.nextEffect}}catch(S){if(A===null)throw Error(I(330));Yt(A,S),A=A.nextEffect}while(A!==null);if(v=fl,y=Df(),f=v.focusedElem,o=v.selectionRange,y!==f&&f&&f.ownerDocument&&ym(f.ownerDocument.documentElement,f)){for(o!==null&&Zl(f)&&(y=o.start,v=o.end,v===void 0&&(v=y),"selectionStart"in f?(f.selectionStart=y,f.selectionEnd=Math.min(v,f.value.length)):(v=(y=f.ownerDocument||document)&&y.defaultView||window,v.getSelection&&(v=v.getSelection(),a=f.textContent.length,T=Math.min(o.start,a),o=o.end===void 0?T:Math.min(o.end,a),!v.extend&&T>o&&(a=o,o=T,T=a),a=Af(f,T),s=Af(f,o),a&&s&&(v.rangeCount!==1||v.anchorNode!==a.node||v.anchorOffset!==a.offset||v.focusNode!==s.node||v.focusOffset!==s.offset)&&(y=y.createRange(),y.setStart(a.node,a.offset),v.removeAllRanges(),T>o?(v.addRange(y),v.extend(s.node,s.offset)):(y.setEnd(s.node,s.offset),v.addRange(y)))))),y=[],v=f;v=v.parentNode;)v.nodeType===1&&y.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<y.length;f++)v=y[f],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}to=!!hl,fl=hl=null,t.current=n,A=r;do try{for(f=t;A!==null;){var C=A.flags;if(C&36&&y1(f,A.alternate,A),C&128){y=void 0;var D=A.ref;if(D!==null){var O=A.stateNode;switch(A.tag){case 5:y=O;break;default:y=O}typeof D=="function"?D(y):D.current=y}}A=A.nextEffect}}catch(S){if(A===null)throw Error(I(330));Yt(A,S),A=A.nextEffect}while(A!==null);A=null,s1(),U=i}else t.current=n;if(rn)rn=!1,Ai=t,gi=e;else for(A=r;A!==null;)e=A.nextEffect,A.nextEffect=null,A.flags&8&&(C=A,C.sibling=null,C.stateNode=null),A=e;if(r=t.pendingLanes,r===0&&(vt=null),r===1?t===Su?Di++:(Di=0,Su=t):Di=0,n=n.stateNode,In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Dc,n,void 0,(n.current.flags&64)===64)}catch{}if(lt(t,Re()),Uo)throw Uo=!1,t=wu,wu=null,t;return(U&8)!==0||St(),null}function k1(){for(;A!==null;){var t=A.alternate;lo||Oi===null||((A.flags&8)!==0?mf(A,Oi)&&(lo=!0):A.tag===13&&v1(t,A)&&mf(A,Oi)&&(lo=!0));var e=A.flags;(e&256)!==0&&g1(t,A),(e&512)===0||rn||(rn=!0,qi(97,function(){return hn(),null})),A=A.nextEffect}}function hn(){if(gi!==90){var t=97<gi?97:gi;return gi=90,Dn(t,_1)}return!1}function I1(t,e){Eu.push(e,t),rn||(rn=!0,qi(97,function(){return hn(),null}))}function ag(t,e){Tu.push(e,t),rn||(rn=!0,qi(97,function(){return hn(),null}))}function _1(){if(Ai===null)return!1;var t=Ai;if(Ai=null,(U&48)!==0)throw Error(I(331));var e=U;U|=32;var n=Tu;Tu=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(s===null)throw Error(I(330));Yt(s,l)}}for(n=Eu,Eu=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var a=i.create;i.destroy=a()}catch(l){if(s===null)throw Error(I(330));Yt(s,l)}}for(a=t.current.firstEffect;a!==null;)t=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=t;return U=e,St(),!0}function yd(t,e,n){e=bc(n,e),e=Xm(t,e,1),Wt(t,e),e=Je(),t=ya(t,1),t!==null&&(ua(t,1,e),lt(t,e))}function Yt(t,e){if(t.tag===3)yd(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){yd(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vt===null||!vt.has(r))){t=bc(e,t);var i=Jm(n,t,1);if(Wt(n,i),i=Je(),n=ya(n,1),n!==null)ua(n,1,i),lt(n,i);else if(typeof r.componentDidCatch=="function"&&(vt===null||!vt.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function N1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Je(),t.pingedLanes|=t.suspendedLanes&n,je===t&&(Le&n)===n&&(Ce===4||Ce===3&&(Le&62914560)===Le&&500>Re()-qc?mr(t,0):Hc|=n),lt(t,e)}function x1(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=kr()===99?1:2:(_t===0&&(_t=Vr),e=Jn(62914560&~_t),e===0&&(e=4194304))),n=Je(),t=ya(t,e),t!==null&&(ua(t,e,n),lt(t,n))}var lg;lg=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Ge.current)dt=!0;else if((n&r)!==0)dt=(t.flags&16384)!==0;else{switch(dt=!1,e.tag){case 3:rd(e),gl();break;case 5:Gf(e);break;case 1:Qe(e.type)&&io(e);break;case 4:au(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;le(_o,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(n&e.child.childLanes)!==0?id(t,e,n):(le(ae,ae.current&1),e=xt(t,e,n),e!==null?e.sibling:null);le(ae,ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&64)!==0){if(r)return ud(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(ae,ae.current),r)break;return null;case 23:case 24:return e.lanes=0,yl(t,e,n)}return xt(t,e,n)}else dt=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Cr(e,Me.current),fr(e,n),i=Uc(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qe(r)){var s=!0;io(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Lc(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&Ao(e,r,o,t),i.updater=ma,e.stateNode=i,i._reactInternals=e,ou(e,r,t,n),e=hu(null,e,r,!0,s,n)}else e.tag=0,He(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=D1(i),t=ft(i,t),s){case 0:e=cu(null,e,i,t,n);break e;case 1:e=nd(null,e,i,t,n);break e;case 11:e=ed(null,e,i,t,n);break e;case 14:e=td(null,e,i,ft(i.type,t),r,n);break e}throw Error(I(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ft(r,i),cu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ft(r,i),nd(t,e,r,i,n);case 3:if(rd(e),r=e.updateQueue,t===null||r===null)throw Error(I(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,Pm(t,e),Ki(e,r,null,n),r=e.memoizedState.element,r===i)gl(),e=xt(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(jt=hr(e.stateNode.containerInfo.firstChild),Nt=e,s=Et=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],dr.push(s);for(n=Fm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else He(t,e,r,n),gl();e=e.child}return e;case 5:return Gf(e),t===null&&lu(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,nu(r,i)?o=null:s!==null&&nu(r,s)&&(e.flags|=16),Wm(t,e),He(t,e,o,n),e.child;case 6:return t===null&&lu(e),null;case 13:return id(t,e,n);case 4:return au(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Do(e,null,r,n):He(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ft(r,i),ed(t,e,r,i,n);case 7:return He(t,e,e.pendingProps,n),e.child;case 8:return He(t,e,e.pendingProps.children,n),e.child;case 12:return He(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var a=e.type._context;if(le(_o,a._currentValue),a._currentValue=s,o!==null)if(a=o.value,s=it(a,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,s):1073741823)|0,s===0){if(o.children===i.children&&!Ge.current){e=xt(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var u=l.firstContext;u!==null;){if(u.context===r&&(u.observedBits&s)!==0){a.tag===1&&(u=Kt(-1,n&-n),u.tag=2,Wt(a,u)),a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Rm(a.return,n),l.lanes|=n;break}u=u.next}}else o=a.tag===10&&a.type===e.type?null:a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}He(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,fr(e,n),i=at(i,s.unstable_observedBits),r=r(i),e.flags|=1,He(t,e,r,n),e.child;case 14:return i=e.type,s=ft(i,e.pendingProps),s=ft(i.type,s),td(t,e,i,s,r,n);case 15:return Km(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ft(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Qe(r)?(t=!0,io(e)):t=!1,fr(e,n),$m(e,r,i),ou(e,r,i,n),hu(null,e,r,!0,t,n);case 19:return ud(t,e,n);case 23:return yl(t,e,n);case 24:return yl(t,e,n)}throw Error(I(156,e.tag))};function A1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function st(t,e,n,r){return new A1(t,e,n,r)}function Wc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function D1(t){if(typeof t=="function")return Wc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===oa)return 11;if(t===aa)return 14}return 2}function sn(t,e){var n=t.alternate;return n===null?(n=st(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function uo(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Wc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ut:return gr(n.children,i,s,e);case Up:o=8,i|=16;break;case uc:o=8,i|=1;break;case Ei:return t=st(12,n,e,i|8),t.elementType=Ei,t.type=Ei,t.lanes=s,t;case Ti:return t=st(13,n,e,i),t.type=Ti,t.elementType=Ti,t.lanes=s,t;case yo:return t=st(19,n,e,i),t.elementType=yo,t.lanes=s,t;case mc:return Gc(n,i,s,e);case Ul:return t=st(24,n,e,i),t.elementType=Ul,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cc:o=10;break e;case hc:o=9;break e;case oa:o=11;break e;case aa:o=14;break e;case fc:o=16,r=null;break e;case dc:o=22;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=st(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function gr(t,e,n,r){return t=st(7,t,r,e),t.lanes=n,t}function Gc(t,e,n,r){return t=st(23,t,r,e),t.elementType=mc,t.lanes=n,t}function El(t,e,n){return t=st(6,t,null,e),t.lanes=n,t}function Tl(t,e,n){return e=st(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function O1(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=il(0),this.expirationTimes=il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=il(0),this.mutableSourceEagerHydrationData=null}function R1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Vo(t,e,n,r){var i=e.current,s=Je(),o=Gt(i);e:if(n){n=n._reactInternals;t:{if(bn(n)!==n||n.tag!==1)throw Error(I(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Qe(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(I(171))}if(n.tag===1){var l=n.type;if(Qe(l)){n=Im(n,l,a);break e}}n=a}else n=nn;return e.context===null?e.context=n:e.pendingContext=n,e=Kt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),Wt(i,e),Qt(i,o,s),o}function Sl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qc(t,e){vd(t,e),(t=t.alternate)&&vd(t,e)}function P1(){return null}function Yc(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new O1(t,e,n!=null&&n.hydrate===!0),e=st(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,Lc(e),t[Ur]=n.current,Em(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}Yc.prototype.render=function(t){Vo(t,this._internalRoot,null,null)};Yc.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Vo(null,t,null,function(){e[Ur]=null})};function ms(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function L1(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Yc(t,0,e?{hydrate:!0}:void 0)}function va(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var a=i;i=function(){var u=Sl(o);a.call(u)}}Vo(e,o,t,i)}else{if(s=n._reactRootContainer=L1(n,r),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var u=Sl(o);l.call(u)}}ng(function(){Vo(e,o,t,i)})}return Sl(o)}Zp=function(t){if(t.tag===13){var e=Je();Qt(t,4,e),Qc(t,4)}};Ec=function(t){if(t.tag===13){var e=Je();Qt(t,67108864,e),Qc(t,67108864)}};em=function(t){if(t.tag===13){var e=Je(),n=Gt(t);Qt(t,n,e),Qc(t,n)}};tm=function(t,e){return e()};Gl=function(t,e,n){switch(e){case"input":if(Bl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=da(r);if(!i)throw Error(I(90));Bp(r),Bl(r,i)}}}break;case"textarea":bp(t,n);break;case"select":e=n.value,e!=null&&lr(t,!!n.multiple,e,!1)}};yc=tg;Qp=function(t,e,n,r,i){var s=U;U|=4;try{return Dn(98,t.bind(null,e,n,r,i))}finally{U=s,U===0&&(jr(),St())}};vc=function(){(U&49)===0&&(E1(),hn())};Yp=function(t,e){var n=U;U|=2;try{return t(e)}finally{U=n,U===0&&(jr(),St())}};function ug(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ms(e))throw Error(I(200));return R1(t,e,null,n)}var $1={Events:[fs,nr,da,Wp,Gp,hn,{current:!1}]},ci={findFiberByHostInstance:wn,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},M1={bundleType:ci.bundleType,version:ci.version,rendererPackageName:ci.rendererPackageName,rendererConfig:ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jp(t),t===null?null:t.stateNode},findFiberByHostInstance:ci.findFiberByHostInstance||P1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ws.isDisabled&&Ws.supportsFiber)try{Dc=Ws.inject(M1),In=Ws}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$1;ut.createPortal=ug;ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):Error(I(268,Object.keys(t)));return t=Jp(e),t=t===null?null:t.stateNode,t};ut.flushSync=function(t,e){var n=U;if((n&48)!==0)return t(e);U|=1;try{if(t)return Dn(99,t.bind(null,e))}finally{U=n,St()}};ut.hydrate=function(t,e,n){if(!ms(e))throw Error(I(200));return va(null,t,e,!0,n)};ut.render=function(t,e,n){if(!ms(e))throw Error(I(200));return va(null,t,e,!1,n)};ut.unmountComponentAtNode=function(t){if(!ms(t))throw Error(I(40));return t._reactRootContainer?(ng(function(){va(null,null,t,!1,function(){t._reactRootContainer=null,t[Ur]=null})}),!0):!1};ut.unstable_batchedUpdates=tg;ut.unstable_createPortal=function(t,e){return ug(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};ut.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ms(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return va(t,e,n,!1,r)};ut.version="17.0.2";function cg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cg)}catch(t){console.error(t)}}cg(),sc.exports=ut;var Nk=sc.exports;function hg(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=hg(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function bt(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=hg(e))&&(r&&(r+=" "),r+=n);return r}var wa={exports:{}},gs={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1=R.exports,fg=60103;gs.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var wd=Symbol.for;fg=wd("react.element"),gs.Fragment=wd("react.fragment")}var U1=F1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V1=Object.prototype.hasOwnProperty,B1={key:!0,ref:!0,__self:!0,__source:!0};function dg(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)V1.call(e,r)&&!B1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:fg,type:t,key:s,ref:o,props:i,_owner:U1.current}}gs.jsx=dg;gs.jsxs=dg;wa.exports=gs;const j1=wa.exports.jsx,xk=wa.exports.jsxs,b1=wa.exports.Fragment;function Xe(){return Xe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xe.apply(this,arguments)}function pg(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ea(t){return typeof t=="number"&&!isNaN(t)}function hi(t){return typeof t=="boolean"}function Rn(t){return typeof t=="string"}function Pe(t){return typeof t=="function"}function co(t){return Rn(t)||Pe(t)?t:null}function Cl(t){return t===0||t}function z1(t,e){return t===!1||Ea(t)&&t>0?t:e}var mg=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function kl(t){return R.exports.isValidElement(t)||Rn(t)||Pe(t)||Ea(t)}var gg={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Mt={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function H1(t,e,n){n===void 0&&(n=300);var r=t.scrollHeight,i=t.style;requestAnimationFrame(function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame(function(){i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function q1(t){var e=t.enter,n=t.exit,r=t.appendPosition,i=r===void 0?!1:r,s=t.collapse,o=s===void 0?!0:s,a=t.collapseDuration,l=a===void 0?300:a;return function(h){var m=h.children,d=h.position,g=h.preventExitTransition,w=h.done,E=h.nodeRef,p=h.isIn,c=i?e+"--"+d:e,f=i?n+"--"+d:n,y=R.exports.useRef(),v=R.exports.useRef(0);R.exports.useLayoutEffect(function(){T()},[]),R.exports.useEffect(function(){p||(g?O():D())},[p]);function T(){var S=E.current;y.current=S.className,S.className+=" "+c,S.addEventListener("animationend",C),S.addEventListener("animationcancel",C)}function C(S){if(S.target===E.current){var L=E.current;L.dispatchEvent(new Event("d")),L.removeEventListener("animationend",C),L.removeEventListener("animationcancel",C),v.current===0&&(L.className=y.current)}}function D(){v.current=1;var S=E.current;S.className+=" "+f,S.addEventListener("animationend",O)}function O(){var S=E.current;S.removeEventListener("animationend",O),o?H1(S,w,l):w()}return j1(b1,{children:m})}}var pt={list:new Map,emitQueue:new Map,on:function(e,n){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(n),this},off:function(e,n){if(n){var r=this.list.get(e).filter(function(i){return i!==n});return this.list.set(e,r),this}return this.list.delete(e),this},cancelEmit:function(e){var n=this.emitQueue.get(e);return n&&(n.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var n=this,r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];this.list.has(e)&&this.list.get(e).forEach(function(o){var a=setTimeout(function(){o.apply(void 0,i)},0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(a)})}},K1=["delay","staleId"];function W1(t){var e=R.exports.useReducer(function(c){return c+1},0),n=e[1],r=R.exports.useState([]),i=r[0],s=r[1],o=R.exports.useRef(null),a=R.exports.useRef(new Map).current,l=function(f){return i.indexOf(f)!==-1},u=R.exports.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:l,getToast:function(f){return a.get(f)}}).current;R.exports.useEffect(function(){return u.containerId=t.containerId,pt.cancelEmit(3).on(0,w).on(1,function(c){return o.current&&m(c)}).on(5,h).emit(2,u),function(){return pt.emit(3,u)}},[]),R.exports.useEffect(function(){u.isToastActive=l,u.displayedToast=i.length,pt.emit(4,i.length,t.containerId)},[i]),R.exports.useEffect(function(){u.props=t});function h(c){var f=c.containerId,y=u.props.limit;y&&(!f||u.containerId===f)&&(u.count-=u.queue.length,u.queue=[])}function m(c){s(function(f){return Cl(c)?f.filter(function(y){return y!==c}):[]})}function d(){var c=u.queue.shift(),f=c.toastContent,y=c.toastProps,v=c.staleId;E(f,y,v)}function g(c){return!o.current||u.props.enableMultiContainer&&c.containerId!==u.props.containerId||a.has(c.toastId)&&c.updateId==null}function w(c,f){var y=f.delay,v=f.staleId,T=pg(f,K1);if(!(!kl(c)||g(T))){var C=T.toastId,D=T.updateId,O=T.data,S=u.props,L=function(){return m(C)},ue=D==null;ue&&u.count++;var G={toastId:C,updateId:D,isLoading:T.isLoading,theme:T.theme||S.theme,icon:T.icon!=null?T.icon:S.icon,isIn:!1,key:T.key||u.toastKey++,type:T.type,closeToast:L,closeButton:T.closeButton,rtl:S.rtl,position:T.position||S.position,transition:T.transition||S.transition,className:co(T.className||S.toastClassName),bodyClassName:co(T.bodyClassName||S.bodyClassName),style:T.style||S.toastStyle,bodyStyle:T.bodyStyle||S.bodyStyle,onClick:T.onClick||S.onClick,pauseOnHover:hi(T.pauseOnHover)?T.pauseOnHover:S.pauseOnHover,pauseOnFocusLoss:hi(T.pauseOnFocusLoss)?T.pauseOnFocusLoss:S.pauseOnFocusLoss,draggable:hi(T.draggable)?T.draggable:S.draggable,draggablePercent:T.draggablePercent||S.draggablePercent,draggableDirection:T.draggableDirection||S.draggableDirection,closeOnClick:hi(T.closeOnClick)?T.closeOnClick:S.closeOnClick,progressClassName:co(T.progressClassName||S.progressClassName),progressStyle:T.progressStyle||S.progressStyle,autoClose:T.isLoading?!1:z1(T.autoClose,S.autoClose),hideProgressBar:hi(T.hideProgressBar)?T.hideProgressBar:S.hideProgressBar,progress:T.progress,role:T.role||S.role,deleteToast:function(){a.delete(C);var Fe=u.queue.length;if(u.count=Cl(C)?u.count-1:u.count-u.displayedToast,u.count<0&&(u.count=0),Fe>0){var Ee=Cl(C)?1:u.props.limit;if(Fe===1||Ee===1)u.displayedToast++,d();else{var ct=Ee>Fe?Fe:Ee;u.displayedToast=ct;for(var kt=0;kt<ct;kt++)d()}}else n()}};Pe(T.onOpen)&&(G.onOpen=T.onOpen),Pe(T.onClose)&&(G.onClose=T.onClose),G.closeButton=S.closeButton,T.closeButton===!1||kl(T.closeButton)?G.closeButton=T.closeButton:T.closeButton===!0&&(G.closeButton=kl(S.closeButton)?S.closeButton:!0);var Q=c;R.exports.isValidElement(c)&&!Rn(c.type)?Q=R.exports.cloneElement(c,{closeToast:L,toastProps:G,data:O}):Pe(c)&&(Q=c({closeToast:L,toastProps:G,data:O})),S.limit&&S.limit>0&&u.count>S.limit&&ue?u.queue.push({toastContent:Q,toastProps:G,staleId:v}):Ea(y)&&y>0?setTimeout(function(){E(Q,G,v)},y):E(Q,G,v)}}function E(c,f,y){var v=f.toastId;y&&a.delete(y),a.set(v,{content:c,props:f}),s(function(T){return[].concat(T,[v]).filter(function(C){return C!==y})})}function p(c){var f=new Map,y=Array.from(a.values());return t.newestOnTop&&y.reverse(),y.forEach(function(v){var T=v.props.position;f.has(T)||f.set(T,[]),f.get(T).push(v)}),Array.from(f,function(v){return c(v[0],v[1])})}return{getToastToRender:p,containerRef:o,isToastActive:l}}function Ed(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function Td(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function G1(t){var e=R.exports.useState(!1),n=e[0],r=e[1],i=R.exports.useState(!1),s=i[0],o=i[1],a=R.exports.useRef(null),l=R.exports.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,u=R.exports.useRef(t),h=t.autoClose,m=t.pauseOnHover,d=t.closeToast,g=t.onClick,w=t.closeOnClick;R.exports.useEffect(function(){u.current=t}),R.exports.useEffect(function(){return a.current&&a.current.addEventListener("d",c,{once:!0}),Pe(t.onOpen)&&t.onOpen(R.exports.isValidElement(t.children)&&t.children.props),function(){var L=u.current;Pe(L.onClose)&&L.onClose(R.exports.isValidElement(L.children)&&L.children.props)}},[]),R.exports.useEffect(function(){return t.pauseOnFocusLoss&&y(),function(){t.pauseOnFocusLoss&&v()}},[t.pauseOnFocusLoss]);function E(L){if(t.draggable){T();var ue=a.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=ue.getBoundingClientRect(),ue.style.transition="",l.x=Ed(L.nativeEvent),l.y=Td(L.nativeEvent),t.draggableDirection==="x"?(l.start=l.x,l.removalDistance=ue.offsetWidth*(t.draggablePercent/100)):(l.start=l.y,l.removalDistance=ue.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent/100))}}function p(){if(l.boundingRect){var L=l.boundingRect,ue=L.top,G=L.bottom,Q=L.left,rt=L.right;t.pauseOnHover&&l.x>=Q&&l.x<=rt&&l.y>=ue&&l.y<=G?f():c()}}function c(){r(!0)}function f(){r(!1)}function y(){document.hasFocus()||f(),window.addEventListener("focus",c),window.addEventListener("blur",f)}function v(){window.removeEventListener("focus",c),window.removeEventListener("blur",f)}function T(){l.didMove=!1,document.addEventListener("mousemove",D),document.addEventListener("mouseup",O),document.addEventListener("touchmove",D),document.addEventListener("touchend",O)}function C(){document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",O),document.removeEventListener("touchmove",D),document.removeEventListener("touchend",O)}function D(L){var ue=a.current;l.canDrag&&ue&&(l.didMove=!0,n&&f(),l.x=Ed(L),l.y=Td(L),t.draggableDirection==="x"?l.delta=l.x-l.start:l.delta=l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),ue.style.transform="translate"+t.draggableDirection+"("+l.delta+"px)",ue.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function O(){C();var L=a.current;if(l.canDrag&&l.didMove&&L){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){o(!0),t.closeToast();return}L.style.transition="transform 0.2s, opacity 0.2s",L.style.transform="translate"+t.draggableDirection+"(0)",L.style.opacity="1"}}var S={onMouseDown:E,onTouchStart:E,onMouseUp:p,onTouchEnd:p};return h&&m&&(S.onMouseEnter=f,S.onMouseLeave=c),w&&(S.onClick=function(L){g&&g(L),l.canCloseOnClick&&d()}),{playToast:c,pauseToast:f,isRunning:n,preventExitTransition:s,toastRef:a,eventHandlers:S}}function yg(t){var e=t.closeToast,n=t.theme,r=t.ariaLabel,i=r===void 0?"close":r;return R.exports.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+n,type:"button",onClick:function(o){o.stopPropagation(),e(o)},"aria-label":i},R.exports.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},R.exports.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function vg(t){var e,n,r=t.delay,i=t.isRunning,s=t.closeToast,o=t.type,a=t.hide,l=t.className,u=t.style,h=t.controlledProgress,m=t.progress,d=t.rtl,g=t.isIn,w=t.theme,E=Xe({},u,{animationDuration:r+"ms",animationPlayState:i?"running":"paused",opacity:a?0:1});h&&(E.transform="scaleX("+m+")");var p=bt("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+w,"Toastify__progress-bar--"+o,(e={},e["Toastify__progress-bar--rtl"]=d,e)),c=Pe(l)?l({rtl:d,type:o,defaultClassName:p}):bt(p,l),f=(n={},n[h&&m>=1?"onTransitionEnd":"onAnimationEnd"]=h&&m<1?null:function(){g&&s()},n);return R.exports.createElement("div",Object.assign({role:"progressbar","aria-hidden":a?"true":"false","aria-label":"notification timer",className:c,style:E},f))}vg.defaultProps={type:Mt.DEFAULT,hide:!1};var Q1=["theme","type"],Ta=function(e){var n=e.theme,r=e.type,i=pg(e,Q1);return R.exports.createElement("svg",Object.assign({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":"var(--toastify-icon-color-"+r+")"},i))};function Y1(t){return R.exports.createElement(Ta,Object.assign({},t),R.exports.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function X1(t){return R.exports.createElement(Ta,Object.assign({},t),R.exports.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function J1(t){return R.exports.createElement(Ta,Object.assign({},t),R.exports.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Z1(t){return R.exports.createElement(Ta,Object.assign({},t),R.exports.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function ew(){return R.exports.createElement("div",{className:"Toastify__spinner"})}var Sd={info:X1,warning:Y1,success:J1,error:Z1,spinner:ew},tw=function(e){var n,r,i=G1(e),s=i.isRunning,o=i.preventExitTransition,a=i.toastRef,l=i.eventHandlers,u=e.closeButton,h=e.children,m=e.autoClose,d=e.onClick,g=e.type,w=e.hideProgressBar,E=e.closeToast,p=e.transition,c=e.position,f=e.className,y=e.style,v=e.bodyClassName,T=e.bodyStyle,C=e.progressClassName,D=e.progressStyle,O=e.updateId,S=e.role,L=e.progress,ue=e.rtl,G=e.toastId,Q=e.deleteToast,rt=e.isIn,Fe=e.isLoading,Ee=e.icon,ct=e.theme,kt=bt("Toastify__toast","Toastify__toast-theme--"+ct,"Toastify__toast--"+g,(n={},n["Toastify__toast--rtl"]=ue,n)),Yr=Pe(f)?f({rtl:ue,position:c,type:g,defaultClassName:kt}):bt(kt,f),Xr=!!L,N=Sd[g],M={theme:ct,type:g},V=N&&N(M);Ee===!1?V=void 0:Pe(Ee)?V=Ee(M):R.exports.isValidElement(Ee)?V=R.exports.cloneElement(Ee,M):Rn(Ee)?V=Ee:Fe&&(V=Sd.spinner());function se(oe){if(!!oe){var mt={closeToast:E,type:g,theme:ct};if(Pe(oe))return oe(mt);if(R.exports.isValidElement(oe))return R.exports.cloneElement(oe,mt)}}return R.exports.createElement(p,{isIn:rt,done:Q,position:c,preventExitTransition:o,nodeRef:a},R.exports.createElement("div",Object.assign({id:G,onClick:d,className:Yr},l,{style:y,ref:a}),R.exports.createElement("div",Object.assign({},rt&&{role:S},{className:Pe(v)?v({type:g}):bt("Toastify__toast-body",v),style:T}),V&&R.exports.createElement("div",{className:bt("Toastify__toast-icon",(r={},r["Toastify--animate-icon Toastify__zoom-enter"]=!Fe,r))},V),R.exports.createElement("div",null,h)),se(u),(m||Xr)&&R.exports.createElement(vg,Object.assign({},O&&!Xr?{key:"pb-"+O}:{},{rtl:ue,theme:ct,delay:m,isRunning:s,isIn:rt,closeToast:E,hide:w,type:g,style:D,className:C,controlledProgress:Xr,progress:L}))))},nw=q1({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),wg=function(e){var n=W1(e),r=n.getToastToRender,i=n.containerRef,s=n.isToastActive,o=e.className,a=e.style,l=e.rtl,u=e.containerId;function h(m){var d,g=bt("Toastify__toast-container","Toastify__toast-container--"+m,(d={},d["Toastify__toast-container--rtl"]=l,d));return Pe(o)?o({position:m,rtl:l,defaultClassName:g}):bt(g,co(o))}return R.exports.createElement("div",{ref:i,className:"Toastify",id:u},r(function(m,d){var g=d.length?Xe({},a):Xe({},a,{pointerEvents:"none"});return R.exports.createElement("div",{className:h(m),style:g,key:"container-"+m},d.map(function(w){var E=w.content,p=w.props;return R.exports.createElement(tw,Object.assign({},p,{isIn:s(p.toastId),key:"toast-"+p.key,closeButton:p.closeButton===!0?yg:p.closeButton}),E)}))}))};wg.defaultProps={position:gg.TOP_RIGHT,transition:nw,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:yg,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var yr=new Map,ku,Ri,Eg,Iu=[],_u=!1;function rw(t,e){var n=e.containerId,r=yr.get(n||ku);return r?r.getToast(t):null}function Tg(){return Math.random().toString(36).substring(2,9)}function iw(t){return t&&(Rn(t.toastId)||Ea(t.toastId))?t.toastId:Tg()}function ys(t,e){return yr.size>0?pt.emit(0,t,e):(Iu.push({content:t,options:e}),_u&&mg&&(_u=!1,Ri=document.createElement("div"),document.body.appendChild(Ri),sc.exports.render(R.exports.createElement(wg,Object.assign({},Eg)),Ri))),e.toastId}function Sa(t,e){return Xe({},e,{type:e&&e.type||t,toastId:iw(e)})}function Ca(t){return function(e,n){return ys(e,Sa(t,n))}}function re(t,e){return ys(t,Sa(Mt.DEFAULT,e))}re.loading=function(t,e){return ys(t,Sa(Mt.DEFAULT,Xe({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},e)))};function sw(t,e,n){var r=e.pending,i=e.error,s=e.success,o;r&&(o=Rn(r)?re.loading(r,n):re.loading(r.render,Xe({},n,r)));var a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=function(m,d,g){if(d==null){re.dismiss(o);return}var w=Xe({type:m},a,n,{data:g}),E=Rn(d)?{render:d}:d;return o?re.update(o,Xe({},w,E)):re(E.render,Xe({},w,E)),g},u=Pe(t)?t():t;return u.then(function(h){return l("success",s,h)}).catch(function(h){return l("error",i,h)}),u}re.promise=sw;re.success=Ca(Mt.SUCCESS);re.info=Ca(Mt.INFO);re.error=Ca(Mt.ERROR);re.warning=Ca(Mt.WARNING);re.warn=re.warning;re.dark=function(t,e){return ys(t,Sa(Mt.DEFAULT,Xe({theme:"dark"},e)))};re.dismiss=function(t){return pt.emit(1,t)};re.clearWaitingQueue=function(t){return t===void 0&&(t={}),pt.emit(5,t)};re.isActive=function(t){var e=!1;return yr.forEach(function(n){n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e};re.update=function(t,e){e===void 0&&(e={}),setTimeout(function(){var n=rw(t,e);if(n){var r=n.props,i=n.content,s=Xe({},r,e,{toastId:e.toastId||t,updateId:Tg()});s.toastId!==t&&(s.staleId=t);var o=s.render||i;delete s.render,ys(o,s)}},0)};re.done=function(t){re.update(t,{progress:1})};re.onChange=function(t){return Pe(t)&&pt.on(4,t),function(){Pe(t)&&pt.off(4,t)}};re.configure=function(t){t===void 0&&(t={}),_u=!0,Eg=t};re.POSITION=gg;re.TYPE=Mt;pt.on(2,function(t){ku=t.containerId||t,yr.set(ku,t),Iu.forEach(function(e){pt.emit(0,e.content,e.options)}),Iu=[]}).on(3,function(t){yr.delete(t.containerId||t),yr.size===0&&pt.off(0).off(1).off(5),mg&&Ri&&document.body.removeChild(Ri)});var Sg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Cd=kn.createContext&&kn.createContext(Sg),Xt=globalThis&&globalThis.__assign||function(){return Xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xt.apply(this,arguments)},ow=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Cg(t){return t&&t.map(function(e,n){return kn.createElement(e.tag,Xt({key:n},e.attr),Cg(e.child))})}function Xc(t){return function(e){return kn.createElement(aw,Xt({attr:Xt({},t.attr)},e),Cg(t.child))}}function aw(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=ow(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),kn.createElement("svg",Xt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Xt(Xt({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&kn.createElement("title",null,s),t.children)};return Cd!==void 0?kn.createElement(Cd.Consumer,null,function(n){return e(n)}):e(Sg)}function Ak(t){return Xc({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5z"}}]})(t)}function Dk(t){return Xc({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"}}]})(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lw=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},uw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=s>>2,m=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(d=64)),r.push(n[h],n[m],n[d],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||m==null)throw Error();const d=s<<2|a>>4;if(r.push(d),u!==64){const g=a<<4&240|u>>2;if(r.push(g),m!==64){const w=u<<6&192|m;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ig=function(t){const e=kg(t);return uw.encodeByteArray(e,!0)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hw(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ka())}function fw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pw(){return ka().indexOf("Electron/")>=0}function mw(){const t=ka();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gw(){return ka().indexOf("MSAppHost/")>=0}function yw(){return typeof indexedDB=="object"}function vw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="FirebaseError";class Ia extends Error{constructor(e,n,r){super(n);this.code=e,this.customData=r,this.name=ww,Object.setPrototypeOf(this,Ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_g.prototype.create)}}class _g{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Ew(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ia(i,a,r)}}function Ew(t,e){return t.replace(Tw,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Tw=/\{\$([^}]+)}/g;function Nu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(kd(s)&&kd(o)){if(!Nu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class Yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kw(e))try{this.getOrInitializeService({instanceIdentifier:gn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gn){return this.instances.has(e)}getOptions(e=gn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Cw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gn){return this.component?this.component.multipleInstances?e:gn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cw(t){return t===gn?void 0:t}function kw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Sw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(K||(K={}));const _w={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},Nw=K.INFO,xw={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},Aw=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xw[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ng{constructor(e){this.name=e,this._logLevel=Nw,this._logHandler=Aw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in K))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_w[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...e),this._logHandler(this,K.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...e),this._logHandler(this,K.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,K.INFO,...e),this._logHandler(this,K.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,K.WARN,...e),this._logHandler(this,K.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...e),this._logHandler(this,K.ERROR,...e)}}function Dw(t){return Array.prototype.slice.call(t)}function xg(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function Jc(t,e,n){var r,i=new Promise(function(s,o){r=t[e].apply(t,n),xg(r).then(s,o)});return i.request=r,i}function Ow(t,e,n){var r=Jc(t,e,n);return r.then(function(i){if(!!i)return new Xi(i,r.request)})}function br(t,e,n){n.forEach(function(r){Object.defineProperty(t.prototype,r,{get:function(){return this[e][r]},set:function(i){this[e][r]=i}})})}function Zc(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return Jc(this[e],i,arguments)})})}function _a(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function Ag(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return Ow(this[e],i,arguments)})})}function Hn(t){this._index=t}br(Hn,"_index",["name","keyPath","multiEntry","unique"]);Zc(Hn,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);Ag(Hn,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Xi(t,e){this._cursor=t,this._request=e}br(Xi,"_cursor",["direction","key","primaryKey","value"]);Zc(Xi,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(Xi.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,n),xg(e._request).then(function(r){if(!!r)return new Xi(r,e._request)})})})});function Ct(t){this._store=t}Ct.prototype.createIndex=function(){return new Hn(this._store.createIndex.apply(this._store,arguments))};Ct.prototype.index=function(){return new Hn(this._store.index.apply(this._store,arguments))};br(Ct,"_store",["name","keyPath","indexNames","autoIncrement"]);Zc(Ct,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);Ag(Ct,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);_a(Ct,"_store",IDBObjectStore,["deleteIndex"]);function vs(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}vs.prototype.objectStore=function(){return new Ct(this._tx.objectStore.apply(this._tx,arguments))};br(vs,"_tx",["objectStoreNames","mode"]);_a(vs,"_tx",IDBTransaction,["abort"]);function Na(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new vs(n)}Na.prototype.createObjectStore=function(){return new Ct(this._db.createObjectStore.apply(this._db,arguments))};br(Na,"_db",["name","version","objectStoreNames"]);_a(Na,"_db",IDBDatabase,["deleteObjectStore","close"]);function xa(t){this._db=t}xa.prototype.transaction=function(){return new vs(this._db.transaction.apply(this._db,arguments))};br(xa,"_db",["name","version","objectStoreNames"]);_a(xa,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(t){[Ct,Hn].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var n=Dw(arguments),r=n[n.length-1],i=this._store||this._index,s=i[t].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Hn,Ct].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(e,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(e,function(o){if(!o){s(i);return}if(i.push(o.value),n!==void 0&&i.length==n){s(i);return}o.continue()})})})});function Rw(t,e,n){var r=Jc(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new Na(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new xa(s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Lw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Lw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xu="@firebase/app",Id="0.7.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Ng("@firebase/app"),$w="@firebase/app-compat",Mw="@firebase/analytics-compat",Fw="@firebase/analytics",Uw="@firebase/app-check-compat",Vw="@firebase/app-check",Bw="@firebase/auth",jw="@firebase/auth-compat",bw="@firebase/database",zw="@firebase/database-compat",Hw="@firebase/functions",qw="@firebase/functions-compat",Kw="@firebase/installations",Ww="@firebase/installations-compat",Gw="@firebase/messaging",Qw="@firebase/messaging-compat",Yw="@firebase/performance",Xw="@firebase/performance-compat",Jw="@firebase/remote-config",Zw="@firebase/remote-config-compat",eE="@firebase/storage",tE="@firebase/storage-compat",nE="@firebase/firestore",rE="@firebase/firestore-compat",iE="firebase",sE="9.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="[DEFAULT]",oE={[xu]:"fire-core",[$w]:"fire-core-compat",[Fw]:"fire-analytics",[Mw]:"fire-analytics-compat",[Vw]:"fire-app-check",[Uw]:"fire-app-check-compat",[Bw]:"fire-auth",[jw]:"fire-auth-compat",[bw]:"fire-rtdb",[zw]:"fire-rtdb-compat",[Hw]:"fire-fn",[qw]:"fire-fn-compat",[Kw]:"fire-iid",[Ww]:"fire-iid-compat",[Gw]:"fire-fcm",[Qw]:"fire-fcm-compat",[Yw]:"fire-perf",[Xw]:"fire-perf-compat",[Jw]:"fire-rc",[Zw]:"fire-rc-compat",[eE]:"fire-gcs",[tE]:"fire-gcs-compat",[nE]:"fire-fst",[rE]:"fire-fst-compat","fire-js":"fire-js",[iE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Map,Au=new Map;function aE(t,e){try{t.container.addComponent(e)}catch(n){eh.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jo(t){const e=t.name;if(Au.has(e))return eh.debug(`There were multiple attempts to register component ${e}.`),!1;Au.set(e,t);for(const n of Bo.values())aE(n,t);return!0}function lE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},on=new _g("app","Firebase",uE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=sE;function Ok(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:Dg,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw on.create("bad-app-name",{appName:String(r)});const i=Bo.get(r);if(i){if(Nu(t,i.options)&&Nu(n,i.config))return i;throw on.create("duplicate-app",{appName:r})}const s=new Iw(r);for(const a of Au.values())s.addComponent(a);const o=new cE(t,n,s);return Bo.set(r,o),o}function fE(t=Dg){const e=Bo.get(t);if(!e)throw on.create("no-app",{appName:t});return e}function vr(t,e,n){var r;let i=(r=oE[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),eh.warn(a.join(" "));return}jo(new Yi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="firebase-heartbeat-database",pE=1,Pn="firebase-heartbeat-store";let Il=null;function th(){return Il||(Il=Rw(dE,pE,t=>{switch(t.oldVersion){case 0:t.createObjectStore(Pn)}}).catch(t=>{throw on.create("storage-open",{originalErrorMessage:t.message})})),Il}async function mE(t){try{return(await th()).transaction(Pn).objectStore(Pn).get(nh(t))}catch(e){throw on.create("storage-get",{originalErrorMessage:e.message})}}async function _l(t,e){try{const r=(await th()).transaction(Pn,"readwrite");return await r.objectStore(Pn).put(e,nh(t)),r.complete}catch(n){throw on.create("storage-set",{originalErrorMessage:n.message})}}async function gE(t){try{const n=(await th()).transaction(Pn,"readwrite");return await n.objectStore(Pn).delete(nh(t)),n.complete}catch(e){throw on.create("storage-delete",{originalErrorMessage:e.message})}}function nh(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=1024,vE=30*24*60*60*1e3;class wE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=EE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!this._heartbeatsCache.some(i=>i.date===r))return this._heartbeatsCache.push({date:r,userAgent:n}),this._heartbeatsCache=this._heartbeatsCache.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=vE}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null)return"";const{heartbeatsToSend:e,unsentEntries:n}=TE(this._heartbeatsCache),r=Ig(JSON.stringify({version:2,heartbeats:e}));return n.length>0?(this._heartbeatsCache=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache=null,this._storage.deleteAll()),r}}function EE(){return new Date().toISOString().substring(0,10)}function TE(t,e=yE){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.userAgent===i.userAgent);if(s){if(s.dates.push(i.date),_d(n)>e){s.dates.pop();break}}else if(n.push({userAgent:i.userAgent,dates:[i.date]}),_d(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class SE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yw()?vw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mE(this.app);return(n==null?void 0:n.heartbeats)||[]}else return[]}async overwrite(e){if(await this._canUseIndexedDBPromise)return _l(this.app,{heartbeats:e})}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _l(this.app,{heartbeats:[...r,...e]})}else return}async delete(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _l(this.app,{heartbeats:r.filter(i=>!e.includes(i))})}else return}async deleteAll(){if(await this._canUseIndexedDBPromise)return gE(this.app)}}function _d(t){return Ig(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t){jo(new Yi("platform-logger",e=>new Pw(e),"PRIVATE")),jo(new Yi("heartbeat",e=>new wE(e),"PRIVATE")),vr(xu,Id,t),vr(xu,Id,"esm2017"),vr("fire-js","")}CE("");var kE=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},x,rh=rh||{},B=kE||self;function bo(){}function Du(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ws(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function IE(t){return Object.prototype.hasOwnProperty.call(t,Nl)&&t[Nl]||(t[Nl]=++_E)}var Nl="closure_uid_"+(1e9*Math.random()>>>0),_E=0;function NE(t,e,n){return t.call.apply(t.bind,arguments)}function xE(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ke(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ke=NE:ke=xE,ke.apply(null,arguments)}function Gs(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ae(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function fn(){this.s=this.s,this.o=this.o}var AE=0,DE={};fn.prototype.s=!1;fn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),AE!=0)){var t=IE(this);delete DE[t]}};fn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Og=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Rg=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function OE(t){e:{var e=ST;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function Nd(t){return Array.prototype.concat.apply([],arguments)}function ih(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function zo(t){return/^[\s\xa0]*$/.test(t)}var xd=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ue(t,e){return t.indexOf(e)!=-1}function xl(t,e){return t<e?-1:t>e?1:0}var Ve;e:{var Ad=B.navigator;if(Ad){var Dd=Ad.userAgent;if(Dd){Ve=Dd;break e}}Ve=""}function sh(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Pg(t){const e={};for(const n in t)e[n]=t[n];return e}var Od="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lg(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Od.length;s++)n=Od[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function oh(t){return oh[" "](t),t}oh[" "]=bo;function RE(t){var e=$E;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var PE=Ue(Ve,"Opera"),_r=Ue(Ve,"Trident")||Ue(Ve,"MSIE"),$g=Ue(Ve,"Edge"),Ou=$g||_r,Mg=Ue(Ve,"Gecko")&&!(Ue(Ve.toLowerCase(),"webkit")&&!Ue(Ve,"Edge"))&&!(Ue(Ve,"Trident")||Ue(Ve,"MSIE"))&&!Ue(Ve,"Edge"),LE=Ue(Ve.toLowerCase(),"webkit")&&!Ue(Ve,"Edge");function Fg(){var t=B.document;return t?t.documentMode:void 0}var Ho;e:{var Al="",Dl=function(){var t=Ve;if(Mg)return/rv:([^\);]+)(\)|;)/.exec(t);if($g)return/Edge\/([\d\.]+)/.exec(t);if(_r)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(LE)return/WebKit\/(\S+)/.exec(t);if(PE)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Dl&&(Al=Dl?Dl[1]:""),_r){var Ol=Fg();if(Ol!=null&&Ol>parseFloat(Al)){Ho=String(Ol);break e}}Ho=Al}var $E={};function ME(){return RE(function(){let t=0;const e=xd(String(Ho)).split("."),n=xd("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=xl(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||xl(i[2].length==0,s[2].length==0)||xl(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Ru;if(B.document&&_r){var Rd=Fg();Ru=Rd||parseInt(Ho,10)||void 0}else Ru=void 0;var FE=Ru,UE=function(){if(!B.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{B.addEventListener("test",bo,e),B.removeEventListener("test",bo,e)}catch{}return t}();function $e(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}$e.prototype.h=function(){this.defaultPrevented=!0};function Ji(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Mg){e:{try{oh(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:VE[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ji.Z.h.call(this)}}Ae(Ji,$e);var VE={2:"touch",3:"pen",4:"mouse"};Ji.prototype.h=function(){Ji.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Es="closure_listenable_"+(1e6*Math.random()|0),BE=0;function jE(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++BE,this.ca=this.fa=!1}function Aa(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Da(t){this.src=t,this.g={},this.h=0}Da.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Lu(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new jE(e,this.src,s,!!r,i),e.fa=n,t.push(e)),e};function Pu(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Og(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Aa(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Lu(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}var ah="closure_lm_"+(1e6*Math.random()|0),Rl={};function Ug(t,e,n,r,i){if(r&&r.once)return Bg(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ug(t,e[s],n,r,i);return null}return n=ch(n),t&&t[Es]?t.N(e,n,ws(r)?!!r.capture:!!r,i):Vg(t,e,n,!1,r,i)}function Vg(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ws(i)?!!i.capture:!!i,a=uh(t);if(a||(t[ah]=a=new Da(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=bE(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)UE||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bg(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function bE(){function t(n){return e.call(t.src,t.listener,n)}var e=zE;return t}function Bg(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Bg(t,e[s],n,r,i);return null}return n=ch(n),t&&t[Es]?t.O(e,n,ws(r)?!!r.capture:!!r,i):Vg(t,e,n,!0,r,i)}function jg(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)jg(t,e[s],n,r,i);else r=ws(r)?!!r.capture:!!r,n=ch(n),t&&t[Es]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Lu(s,n,r,i),-1<n&&(Aa(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=uh(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Lu(e,n,r,i)),(n=-1<t?e[t]:null)&&lh(n))}function lh(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[Es])Pu(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bg(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=uh(e))?(Pu(n,t),n.h==0&&(n.src=null,e[ah]=null)):Aa(t)}}}function bg(t){return t in Rl?Rl[t]:Rl[t]="on"+t}function zE(t,e){if(t.ca)t=!0;else{e=new Ji(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&lh(t),t=n.call(r,e)}return t}function uh(t){return t=t[ah],t instanceof Da?t:null}var Pl="__closure_events_fn_"+(1e9*Math.random()>>>0);function ch(t){return typeof t=="function"?t:(t[Pl]||(t[Pl]=function(e){return t.handleEvent(e)}),t[Pl])}function ve(){fn.call(this),this.i=new Da(this),this.P=this,this.I=null}Ae(ve,fn);ve.prototype[Es]=!0;ve.prototype.removeEventListener=function(t,e,n,r){jg(this,t,e,n,r)};function Ie(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new $e(e,t);else if(e instanceof $e)e.target=e.target||t;else{var i=e;e=new $e(r,t),Lg(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Qs(o,r,!0,e)&&i}if(o=e.g=t,i=Qs(o,r,!0,e)&&i,i=Qs(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Qs(o,r,!1,e)&&i}ve.prototype.M=function(){if(ve.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Aa(n[r]);delete t.g[e],t.h--}}this.I=null};ve.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ve.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Qs(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Pu(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var hh=B.JSON.stringify;function HE(){var t=Hg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class qE{constructor(){this.h=this.g=null}add(e,n){const r=zg.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var zg=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new KE,t=>t.reset());class KE{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function WE(t){B.setTimeout(()=>{throw t},0)}function fh(t,e){$u||GE(),Mu||($u(),Mu=!0),Hg.add(t,e)}var $u;function GE(){var t=B.Promise.resolve(void 0);$u=function(){t.then(QE)}}var Mu=!1,Hg=new qE;function QE(){for(var t;t=HE();){try{t.h.call(t.g)}catch(n){WE(n)}var e=zg;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Mu=!1}function Oa(t,e){ve.call(this),this.h=t||1,this.g=e||B,this.j=ke(this.kb,this),this.l=Date.now()}Ae(Oa,ve);x=Oa.prototype;x.da=!1;x.S=null;x.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ie(this,"tick"),this.da&&(dh(this),this.start()))}};x.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function dh(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}x.M=function(){Oa.Z.M.call(this),dh(this),delete this.g};function ph(t,e,n){if(typeof t=="function")n&&(t=ke(t,n));else if(t&&typeof t.handleEvent=="function")t=ke(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:B.setTimeout(t,e||0)}function qg(t){t.g=ph(()=>{t.g=null,t.i&&(t.i=!1,qg(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class YE extends fn{constructor(e,n){super();this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qg(this)}M(){super.M(),this.g&&(B.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zi(t){fn.call(this),this.h=t,this.g={}}Ae(Zi,fn);var Pd=[];function Kg(t,e,n,r){Array.isArray(n)||(n&&(Pd[0]=n.toString()),n=Pd);for(var i=0;i<n.length;i++){var s=Ug(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Wg(t){sh(t.g,function(e,n){this.g.hasOwnProperty(n)&&lh(e)},t),t.g={}}Zi.prototype.M=function(){Zi.Z.M.call(this),Wg(this)};Zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ra(){this.g=!0}Ra.prototype.Aa=function(){this.g=!1};function XE(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var h=u[0];u=u[1];var m=h.split("_");o=2<=m.length&&m[1]=="type"?o+(h+"="+u+"&"):o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function JE(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function sr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+eT(t,n)+(r?" "+r:"")})}function ZE(t,e){t.info(function(){return"TIMEOUT: "+e})}Ra.prototype.info=function(){};function eT(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return hh(n)}catch{return e}}var qn={},Ld=null;function Pa(){return Ld=Ld||new ve}qn.Ma="serverreachability";function Gg(t){$e.call(this,qn.Ma,t)}Ae(Gg,$e);function es(t){const e=Pa();Ie(e,new Gg(e,t))}qn.STAT_EVENT="statevent";function Qg(t,e){$e.call(this,qn.STAT_EVENT,t),this.stat=e}Ae(Qg,$e);function Be(t){const e=Pa();Ie(e,new Qg(e,t))}qn.Na="timingevent";function Yg(t,e){$e.call(this,qn.Na,t),this.size=e}Ae(Yg,$e);function Ts(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return B.setTimeout(function(){t()},e)}var La={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Xg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function mh(){}mh.prototype.h=null;function $d(t){return t.h||(t.h=t.i())}function Jg(){}var Ss={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function gh(){$e.call(this,"d")}Ae(gh,$e);function yh(){$e.call(this,"c")}Ae(yh,$e);var Fu;function $a(){}Ae($a,mh);$a.prototype.g=function(){return new XMLHttpRequest};$a.prototype.i=function(){return{}};Fu=new $a;function Cs(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Zi(this),this.P=tT,t=Ou?125:void 0,this.W=new Oa(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Zg}function Zg(){this.i=null,this.g="",this.h=!1}var tT=45e3,Uu={},qo={};x=Cs.prototype;x.setTimeout=function(t){this.P=t};function Vu(t,e,n){t.K=1,t.v=Fa(Lt(e)),t.s=n,t.U=!0,ey(t,null)}function ey(t,e){t.F=Date.now(),ks(t),t.A=Lt(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),ay(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Zg,t.g=Ny(t.l,n?e:null,!t.s),0<t.O&&(t.L=new YE(ke(t.Ia,t,t.g),t.O)),Kg(t.V,t.g,"readystatechange",t.gb),e=t.H?Pg(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),es(1),XE(t.j,t.u,t.A,t.m,t.X,t.s)}x.gb=function(t){t=t.target;const e=this.L;e&&At(t)==3?e.l():this.Ia(t)};x.Ia=function(t){try{if(t==this.g)e:{const h=At(this.g);var e=this.g.Da();const m=this.g.ba();if(!(3>h)&&(h!=3||Ou||this.g&&(this.h.h||this.g.ga()||Vd(this.g)))){this.I||h!=4||e==7||(e==8||0>=m?es(3):es(2)),Ma(this);var n=this.g.ba();this.N=n;t:if(ty(this)){var r=Vd(this.g);t="";var i=r.length,s=At(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Sn(this),Pi(this);var o="";break t}this.h.i=new B.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,JE(this.j,this.u,this.A,this.m,this.X,h,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zo(a)){var u=a;break t}}u=null}if(n=u)sr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bu(this,n);else{this.i=!1,this.o=3,Be(12),Sn(this),Pi(this);break e}}this.U?(ny(this,h,o),Ou&&this.i&&h==3&&(Kg(this.V,this.W,"tick",this.fb),this.W.start())):(sr(this.j,this.m,o,null),Bu(this,o)),h==4&&Sn(this),this.i&&!this.I&&(h==4?Cy(this.l,this):(this.i=!1,ks(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Be(12)):(this.o=0,Be(13)),Sn(this),Pi(this)}}}catch{}finally{}};function ty(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function ny(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=nT(t,n),i==qo){e==4&&(t.o=4,Be(14),r=!1),sr(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Uu){t.o=4,Be(15),sr(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else sr(t.j,t.m,i,null),Bu(t,i);ty(t)&&i!=qo&&i!=Uu&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Be(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),_h(e),e.L=!0,Be(11))):(sr(t.j,t.m,n,"[Invalid Chunked Response]"),Sn(t),Pi(t))}x.fb=function(){if(this.g){var t=At(this.g),e=this.g.ga();this.C<e.length&&(Ma(this),ny(this,t,e),this.i&&t!=4&&ks(this))}};function nT(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?qo:(n=Number(e.substring(n,r)),isNaN(n)?Uu:(r+=1,r+n>e.length?qo:(e=e.substr(r,n),t.C=r+n,e)))}x.cancel=function(){this.I=!0,Sn(this)};function ks(t){t.Y=Date.now()+t.P,ry(t,t.P)}function ry(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ts(ke(t.eb,t),e)}function Ma(t){t.B&&(B.clearTimeout(t.B),t.B=null)}x.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(ZE(this.j,this.A),this.K!=2&&(es(3),Be(17)),Sn(this),this.o=2,Pi(this)):ry(this,this.Y-t)};function Pi(t){t.l.G==0||t.I||Cy(t.l,t)}function Sn(t){Ma(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,dh(t.W),Wg(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Bu(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||ju(n.i,t))){if(n.I=t.N,!t.J&&ju(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0)e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Qo(n),Ba(n);else break e;Ih(n),Be(18)}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ts(ke(n.ab,n),6e3));if(1>=cy(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Cn(n,11)}else if((t.J||n.g==t)&&Qo(n),!zo(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];const h=u[3];h!=null&&(n.ma=h,n.h.info("VER="+n.ma));const m=u[4];m!=null&&(n.za=m,n.h.info("SVER="+n.za));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const w=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var s=r.i;!s.g&&(Ue(w,"spdy")||Ue(w,"quic")||Ue(w,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Eh(s,s.h),s.h=null))}if(r.D){const E=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.sa=E,te(r.F,r.D,E))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=t;if(r.oa=_y(r,r.H?r.la:null,r.W),o.J){hy(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Ma(a),ks(a)),r.g=o}else Ty(r);0<n.l.length&&ja(n)}else u[0]!="stop"&&u[0]!="close"||Cn(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Cn(n,7):kh(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}es(4)}catch{}}function rT(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Du(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function vh(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Du(t)||typeof t=="string")Rg(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Du(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=rT(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function zr(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof zr)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}x=zr.prototype;x.R=function(){wh(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};x.T=function(){return wh(this),this.g.concat()};function wh(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ln(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],Ln(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}x.get=function(t,e){return Ln(this.h,t)?this.h[t]:e};x.set=function(t,e){Ln(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};x.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function Ln(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var iy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function iT(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function $n(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof $n){this.g=e!==void 0?e:t.g,Ko(this,t.j),this.s=t.s,Wo(this,t.i),Go(this,t.m),this.l=t.l,e=t.h;var n=new ts;n.i=e.i,e.g&&(n.g=new zr(e.g),n.h=e.h),Md(this,n),this.o=t.o}else t&&(n=String(t).match(iy))?(this.g=!!e,Ko(this,n[1]||"",!0),this.s=Li(n[2]||""),Wo(this,n[3]||"",!0),Go(this,n[4]),this.l=Li(n[5]||"",!0),Md(this,n[6]||"",!0),this.o=Li(n[7]||"")):(this.g=!!e,this.h=new ts(null,this.g))}$n.prototype.toString=function(){var t=[],e=this.j;e&&t.push(vi(e,Fd,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(vi(e,Fd,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(vi(n,n.charAt(0)=="/"?uT:lT,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",vi(n,hT)),t.join("")};function Lt(t){return new $n(t)}function Ko(t,e,n){t.j=n?Li(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Wo(t,e,n){t.i=n?Li(e,!0):e}function Go(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Md(t,e,n){e instanceof ts?(t.h=e,fT(t.h,t.g)):(n||(e=vi(e,cT)),t.h=new ts(e,t.g))}function te(t,e,n){t.h.set(e,n)}function Fa(t){return te(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sT(t){return t instanceof $n?Lt(t):new $n(t,void 0)}function oT(t,e,n,r){var i=new $n(null,void 0);return t&&Ko(i,t),e&&Wo(i,e),n&&Go(i,n),r&&(i.l=r),i}function Li(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function vi(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,aT),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function aT(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Fd=/[#\/\?@]/g,lT=/[#\?:]/g,uT=/[#\?]/g,cT=/[#\?@]/g,hT=/#/g;function ts(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function dn(t){t.g||(t.g=new zr,t.h=0,t.i&&iT(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}x=ts.prototype;x.add=function(t,e){dn(this),this.i=null,t=Hr(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function sy(t,e){dn(t),e=Hr(t,e),Ln(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Ln(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&wh(t)))}function oy(t,e){return dn(t),e=Hr(t,e),Ln(t.g.h,e)}x.forEach=function(t,e){dn(this),this.g.forEach(function(n,r){Rg(n,function(i){t.call(e,i,r,this)},this)},this)};x.T=function(){dn(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};x.R=function(t){dn(this);var e=[];if(typeof t=="string")oy(this,t)&&(e=Nd(e,this.g.get(Hr(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Nd(e,t[n])}return e};x.set=function(t,e){return dn(this),this.i=null,t=Hr(this,t),oy(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};x.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function ay(t,e,n){sy(t,e),0<n.length&&(t.i=null,t.g.set(Hr(t,e),ih(n)),t.h+=n.length)}x.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;r[s]!==""&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};function Hr(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function fT(t,e){e&&!t.j&&(dn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(sy(this,r),ay(this,i,n))},t)),t.j=e}var dT=class{constructor(t,e){this.h=t,this.g=e}};function ly(t){this.l=t||pT,B.PerformanceNavigationTiming?(t=B.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(B.g&&B.g.Ea&&B.g.Ea()&&B.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pT=10;function uy(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function cy(t){return t.h?1:t.g?t.g.size:0}function ju(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Eh(t,e){t.g?t.g.add(e):t.h=e}function hy(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ly.prototype.cancel=function(){if(this.i=fy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function fy(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return ih(t.i)}function Th(){}Th.prototype.stringify=function(t){return B.JSON.stringify(t,void 0)};Th.prototype.parse=function(t){return B.JSON.parse(t,void 0)};function mT(){this.g=new Th}function gT(t,e,n){const r=n||"";try{vh(t,function(i,s){let o=i;ws(i)&&(o=hh(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yT(t,e){const n=new Ra;if(B.Image){const r=new Image;r.onload=Gs(Ys,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gs(Ys,n,r,"TestLoadImage: error",!1,e),r.onabort=Gs(Ys,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gs(Ys,n,r,"TestLoadImage: timeout",!1,e),B.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ys(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Is(t){this.l=t.$b||null,this.j=t.ib||!1}Ae(Is,mh);Is.prototype.g=function(){return new Ua(this.l,this.j)};Is.prototype.i=function(t){return function(){return t}}({});function Ua(t,e){ve.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Sh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ae(Ua,ve);var Sh=0;x=Ua.prototype;x.open=function(t,e){if(this.readyState!=Sh)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ns(this)};x.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||B).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};x.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=Sh};x.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ns(this)),this.g&&(this.readyState=3,ns(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof B.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dy(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function dy(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}x.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?_s(this):ns(this),this.readyState==3&&dy(this)}};x.Ua=function(t){this.g&&(this.response=this.responseText=t,_s(this))};x.Ta=function(t){this.g&&(this.response=t,_s(this))};x.ha=function(){this.g&&_s(this)};function _s(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ns(t)}x.setRequestHeader=function(t,e){this.v.append(t,e)};x.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};x.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ns(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var vT=B.JSON.parse;function de(t){ve.call(this),this.headers=new zr,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=py,this.K=this.L=!1}Ae(de,ve);var py="",wT=/^https?$/i,ET=["POST","PUT"];x=de.prototype;x.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Fu.g(),this.C=this.u?$d(this.u):$d(Fu),this.g.onreadystatechange=ke(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){Ud(this,s);return}t=n||"";const i=new zr(this.headers);r&&vh(r,function(s,o){i.set(o,s)}),r=OE(i.T()),n=B.FormData&&t instanceof B.FormData,!(0<=Og(ET,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yy(this),0<this.B&&((this.K=TT(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ke(this.pa,this)):this.A=ph(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Ud(this,s)}};function TT(t){return _r&&ME()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function ST(t){return t.toLowerCase()=="content-type"}x.pa=function(){typeof rh!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ie(this,"timeout"),this.abort(8))};function Ud(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,my(t),Va(t)}function my(t){t.D||(t.D=!0,Ie(t,"complete"),Ie(t,"error"))}x.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ie(this,"complete"),Ie(this,"abort"),Va(this))};x.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Va(this,!0)),de.Z.M.call(this)};x.Fa=function(){this.s||(this.F||this.v||this.l?gy(this):this.cb())};x.cb=function(){gy(this)};function gy(t){if(t.h&&typeof rh!="undefined"&&(!t.C[1]||At(t)!=4||t.ba()!=2)){if(t.v&&At(t)==4)ph(t.Fa,0,t);else if(Ie(t,"readystatechange"),At(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(iy)[1]||null;if(!i&&B.self&&B.self.location){var s=B.self.location.protocol;i=s.substr(0,s.length-1)}r=!wT.test(i?i.toLowerCase():"")}n=r}if(n)Ie(t,"complete"),Ie(t,"success");else{t.m=6;try{var o=2<At(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",my(t)}}finally{Va(t)}}}}function Va(t,e){if(t.g){yy(t);const n=t.g,r=t.C[0]?bo:null;t.g=null,t.C=null,e||Ie(t,"ready");try{n.onreadystatechange=r}catch{}}}function yy(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(B.clearTimeout(t.A),t.A=null)}function At(t){return t.g?t.g.readyState:0}x.ba=function(){try{return 2<At(this)?this.g.status:-1}catch{return-1}};x.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};x.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),vT(e)}};function Vd(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case py:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}x.Da=function(){return this.m};x.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function CT(t){let e="";return sh(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ch(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=CT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):te(t,e,n))}function fi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function vy(t){this.za=0,this.l=[],this.h=new Ra,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fi("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fi("baseRetryDelayMs",5e3,t),this.$a=fi("retryDelaySeedMs",1e4,t),this.Ya=fi("forwardChannelMaxRetries",2,t),this.ra=fi("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new ly(t&&t.concurrentRequestLimit),this.Ca=new mT,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}x=vy.prototype;x.ma=8;x.G=1;function kh(t){if(wy(t),t.G==3){var e=t.V++,n=Lt(t.F);te(n,"SID",t.J),te(n,"RID",e),te(n,"TYPE","terminate"),Ns(t,n),e=new Cs(t,t.h,e,void 0),e.K=2,e.v=Fa(Lt(n)),n=!1,B.navigator&&B.navigator.sendBeacon&&(n=B.navigator.sendBeacon(e.v.toString(),"")),!n&&B.Image&&(new Image().src=e.v,n=!0),n||(e.g=Ny(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ks(e)}Iy(t)}x.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Ba(t){t.g&&(_h(t),t.g.cancel(),t.g=null)}function wy(t){Ba(t),t.u&&(B.clearTimeout(t.u),t.u=null),Qo(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&B.clearTimeout(t.m),t.m=null)}function Ll(t,e){t.l.push(new dT(t.Za++,e)),t.G==3&&ja(t)}function ja(t){uy(t.i)||t.m||(t.m=!0,fh(t.Ha,t),t.C=0)}function kT(t,e){return cy(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Ts(ke(t.Ha,t,e),ky(t,t.C)),t.C++,!0)}x.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Cs(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=Pg(s),Lg(s,this.P)):s=this.P),this.o===null&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ey(this,i,e),n=Lt(this.F),te(n,"RID",t),te(n,"CVER",22),this.D&&te(n,"X-HTTP-Session-Id",this.D),Ns(this,n),this.o&&s&&Ch(n,this.o,s),Eh(this.i,i),this.Ra&&te(n,"TYPE","init"),this.ja?(te(n,"$req",e),te(n,"SID","null"),i.$=!0,Vu(i,n,null)):Vu(i,n,e),this.G=2}}else this.G==3&&(t?Bd(this,t):this.l.length==0||uy(this.i)||Bd(this))};function Bd(t,e){var n;e?n=e.m:n=t.V++;const r=Lt(t.F);te(r,"SID",t.J),te(r,"RID",n),te(r,"AID",t.U),Ns(t,r),t.o&&t.s&&Ch(r,t.o,t.s),n=new Cs(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Ey(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Eh(t.i,n),Vu(n,r,e)}function Ns(t,e){t.j&&vh({},function(n,r){te(e,r,n)})}function Ey(t,e,n){n=Math.min(t.l.length,n);var r=t.j?ke(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const h=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{gT(h,o,"req"+u+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function Ty(t){t.g||t.u||(t.Y=1,fh(t.Ga,t),t.A=0)}function Ih(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Ts(ke(t.Ga,t),ky(t,t.A)),t.A++,!0)}x.Ga=function(){if(this.u=null,Sy(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ts(ke(this.bb,this),t)}};x.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Be(10),Ba(this),Sy(this))};function _h(t){t.B!=null&&(B.clearTimeout(t.B),t.B=null)}function Sy(t){t.g=new Cs(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Lt(t.oa);te(e,"RID","rpc"),te(e,"SID",t.J),te(e,"CI",t.N?"0":"1"),te(e,"AID",t.U),Ns(t,e),te(e,"TYPE","xmlhttp"),t.o&&t.s&&Ch(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Fa(Lt(e)),n.s=null,n.U=!0,ey(n,t)}x.ab=function(){this.v!=null&&(this.v=null,Ba(this),Ih(this),Be(19))};function Qo(t){t.v!=null&&(B.clearTimeout(t.v),t.v=null)}function Cy(t,e){var n=null;if(t.g==e){Qo(t),_h(t),t.g=null;var r=2}else if(ju(t.i,e))n=e.D,hy(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Pa(),Ie(r,new Yg(r,n,e,i)),ja(t)}else Ty(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&kT(t,e)||r==2&&Ih(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Cn(t,5);break;case 4:Cn(t,10);break;case 3:Cn(t,6);break;default:Cn(t,2)}}}function ky(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Cn(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=ke(t.jb,t);n||(n=new $n("//www.google.com/images/cleardot.gif"),B.location&&B.location.protocol=="http"||Ko(n,"https"),Fa(n)),yT(n.toString(),r)}else Be(2);t.G=0,t.j&&t.j.va(e),Iy(t),wy(t)}x.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Be(2)):(this.h.info("Failed to ping google.com"),Be(1))};function Iy(t){t.G=0,t.I=-1,t.j&&((fy(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,ih(t.l),t.l.length=0),t.j.ua())}function _y(t,e,n){let r=sT(n);if(r.i!="")e&&Wo(r,e+"."+r.i),Go(r,r.m);else{const i=B.location;r=oT(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&sh(t.aa,function(i,s){te(r,s,i)}),e=t.D,n=t.sa,e&&n&&te(r,e,n),te(r,"VER",t.ma),Ns(t,r),r}function Ny(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new de(new Is({ib:!0})):new de(t.qa),e.L=t.H,e}function xy(){}x=xy.prototype;x.xa=function(){};x.wa=function(){};x.va=function(){};x.ua=function(){};x.Oa=function(){};function Yo(){if(_r&&!(10<=Number(FE)))throw Error("Environmental error: no available transport.")}Yo.prototype.g=function(t,e){return new tt(t,e)};function tt(t,e){ve.call(this),this.g=new vy(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!zo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zo(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new qr(this)}Ae(tt,ve);tt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),fh(ke(t.hb,t,e))),Be(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=_y(t,null,t.W),ja(t)};tt.prototype.close=function(){kh(this.g)};tt.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Ll(this.g,e)}else this.v?(e={},e.__data__=hh(t),Ll(this.g,e)):Ll(this.g,t)};tt.prototype.M=function(){this.g.j=null,delete this.j,kh(this.g),delete this.g,tt.Z.M.call(this)};function Ay(t){gh.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ae(Ay,gh);function Dy(){yh.call(this),this.status=1}Ae(Dy,yh);function qr(t){this.g=t}Ae(qr,xy);qr.prototype.xa=function(){Ie(this.g,"a")};qr.prototype.wa=function(t){Ie(this.g,new Ay(t))};qr.prototype.va=function(t){Ie(this.g,new Dy(t))};qr.prototype.ua=function(){Ie(this.g,"b")};Yo.prototype.createWebChannel=Yo.prototype.g;tt.prototype.send=tt.prototype.u;tt.prototype.open=tt.prototype.m;tt.prototype.close=tt.prototype.close;La.NO_ERROR=0;La.TIMEOUT=8;La.HTTP_ERROR=6;Xg.COMPLETE="complete";Jg.EventType=Ss;Ss.OPEN="a";Ss.CLOSE="b";Ss.ERROR="c";Ss.MESSAGE="d";ve.prototype.listen=ve.prototype.N;de.prototype.listenOnce=de.prototype.O;de.prototype.getLastError=de.prototype.La;de.prototype.getLastErrorCode=de.prototype.Da;de.prototype.getStatus=de.prototype.ba;de.prototype.getResponseJson=de.prototype.Qa;de.prototype.getResponseText=de.prototype.ga;de.prototype.send=de.prototype.ea;var IT=function(){return new Yo},_T=function(){return Pa()},$l=La,NT=Xg,xT=qn,jd={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},AT=Is,Xs=Jg,DT=de;const bd="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kr="9.6.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=new Ng("@firebase/firestore");function zd(){return Mn.logLevel}function P(t,...e){if(Mn.logLevel<=K.DEBUG){const n=e.map(Nh);Mn.debug(`Firestore (${Kr}): ${t}`,...n)}}function an(t,...e){if(Mn.logLevel<=K.ERROR){const n=e.map(Nh);Mn.error(`Firestore (${Kr}): ${t}`,...n)}}function Hd(t,...e){if(Mn.logLevel<=K.WARN){const n=e.map(Nh);Mn.warn(`Firestore (${Kr}): ${t}`,...n)}}function Nh(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(t="Unexpected state"){const e=`FIRESTORE (${Kr}) INTERNAL ASSERTION FAILED: `+t;throw an(e),new Error(e)}function X(t,e){t||j()}function b(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends Ia{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qe.UNAUTHENTICATED))}shutdown(){}}class PT{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new _n;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _n,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _n)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(X(typeof r.accessToken=="string"),new OT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return X(e===null||typeof e=="string"),new qe(e)}}class LT{constructor(e,n,r){this.type="FirstParty",this.user=qe.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class $T{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new LT(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FT{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{s.error!=null&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,P("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(X(typeof n.token=="string"),this.p=n.token,new MT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xh.A=-1;class Oy{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=UT(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function W(t,e){return t<e?-1:t>e?1:0}function Nr(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?W(this.nanoseconds,e.nanoseconds):W(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new z(e)}static min(){return new z(new Ze(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Kn(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ry(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r){n===void 0?n=0:n>e.length&&j(),r===void 0?r=e.length-n:r>e.length-n&&j(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ne extends rs{construct(e,n,r){return new ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ne(n)}static emptyPath(){return new ne([])}}const VT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends rs{construct(e,n,r){return new Ke(e,n,r)}static isValidIdentifier(e){return VT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ke(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ke(n)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.fields=e,e.sort(Ke.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Nr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new xe(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new xe(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return W(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xe.EMPTY_BYTE_STRING=new xe("");const BT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ln(t){if(X(!!t),typeof t=="string"){let e=0;const n=BT.exec(t);if(X(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fe(t.seconds),nanos:fe(t.nanos)}}function fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xr(t){return typeof t=="string"?xe.fromBase64String(t):xe.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ly(t){const e=t.mapValue.fields.__previous_value__;return Py(e)?Ly(e):e}function ss(t){const e=ln(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ar{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ar("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ar&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t){return t==null}function Xo(t){return t===0&&1/t==-1/0}function bT(t){return typeof t=="number"&&Number.isInteger(t)&&!Xo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.path=e}static fromPath(e){return new F(ne.fromString(e))}static fromName(e){return new F(ne.fromString(e).popFirst(5))}static empty(){return new F(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new ne(e.slice()))}}function Fn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Py(t)?4:10:j()}function Tt(t,e){if(t===e)return!0;const n=Fn(t);if(n!==Fn(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ss(t).isEqual(ss(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ln(r.timestampValue),o=ln(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return xr(r.bytesValue).isEqual(xr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return fe(r.geoPointValue.latitude)===fe(i.geoPointValue.latitude)&&fe(r.geoPointValue.longitude)===fe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return fe(r.integerValue)===fe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=fe(r.doubleValue),o=fe(i.doubleValue);return s===o?Xo(s)===Xo(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Nr(t.arrayValue.values||[],e.arrayValue.values||[],Tt);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(qd(s)!==qd(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Tt(s[a],o[a])))return!1;return!0}(t,e);default:return j()}}function os(t,e){return(t.values||[]).find(n=>Tt(n,e))!==void 0}function Dr(t,e){if(t===e)return 0;const n=Fn(t),r=Fn(e);if(n!==r)return W(n,r);switch(n){case 0:return 0;case 1:return W(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=fe(i.integerValue||i.doubleValue),a=fe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Kd(t.timestampValue,e.timestampValue);case 4:return Kd(ss(t),ss(e));case 5:return W(t.stringValue,e.stringValue);case 6:return function(i,s){const o=xr(i),a=xr(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=W(o[l],a[l]);if(u!==0)return u}return W(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=W(fe(i.latitude),fe(s.latitude));return o!==0?o:W(fe(i.longitude),fe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Dr(o[l],a[l]);if(u)return u}return W(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let h=0;h<a.length&&h<u.length;++h){const m=W(a[h],u[h]);if(m!==0)return m;const d=Dr(o[a[h]],l[u[h]]);if(d!==0)return d}return W(a.length,u.length)}(t.mapValue,e.mapValue);default:throw j()}}function Kd(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return W(t,e);const n=ln(t),r=ln(e),i=W(n.seconds,r.seconds);return i!==0?i:W(n.nanos,r.nanos)}function wr(t){return bu(t)}function bu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ln(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?xr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,F.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=bu(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${bu(r.fields[a])}`;return s+"}"}(t.mapValue):j();var e,n}function zu(t){return!!t&&"integerValue"in t}function Ah(t){return!!t&&"arrayValue"in t}function Wd(t){return!!t&&"nullValue"in t}function Gd(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ho(t){return!!t&&"mapValue"in t}function $i(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Kn(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$i(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$i(t.arrayValue.values[n]);return e}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.value=e}static empty(){return new Ye({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ho(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$i(n)}setAll(e){let n=Ke.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=$i(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ho(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ho(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Kn(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ye($i(this.value))}}function $y(t){const e=[];return Kn(t.fields,(n,r)=>{const i=new Ke([n]);if(ho(r)){const s=$y(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new is(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Oe(e,0,z.min(),z.min(),Ye.empty(),0)}static newFoundDocument(e,n,r){return new Oe(e,1,n,z.min(),r,0)}static newNoDocument(e,n){return new Oe(e,2,n,z.min(),Ye.empty(),0)}static newUnknownDocument(e,n){return new Oe(e,3,n,z.min(),Ye.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ye.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ye.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Oe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oe(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function Qd(t,e=null,n=[],r=[],i=null,s=null,o=null){return new zT(t,e,n,r,i,s,o)}function Dh(t){const e=b(t);if(e.P===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+wr(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Wr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wr(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wr(r)).join(",")),e.P=n}return e.P}function HT(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${wr(r.value)}`;var r}).join(", ")}]`),Wr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>wr(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>wr(n)).join(",")),`Target(${e})`}function Oh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!JT(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Tt(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xd(t.startAt,e.startAt)&&Xd(t.endAt,e.endAt)}function Hu(t){return F.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class We extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.v(e,n,r):new qT(e,n,r):n==="array-contains"?new GT(e,r):n==="in"?new QT(e,r):n==="not-in"?new YT(e,r):n==="array-contains-any"?new XT(e,r):new We(e,n,r)}static v(e,n,r){return n==="in"?new KT(e,r):new WT(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.V(Dr(n,this.value)):n!==null&&Fn(this.value)===Fn(n)&&this.V(Dr(n,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return j()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class qT extends We{constructor(e,n,r){super(e,n,r),this.key=F.fromName(r.referenceValue)}matches(e){const n=F.comparator(e.key,this.key);return this.V(n)}}class KT extends We{constructor(e,n){super(e,"in",n),this.keys=My("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WT extends We{constructor(e,n){super(e,"not-in",n),this.keys=My("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function My(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>F.fromName(r.referenceValue))}class GT extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ah(n)&&os(n.arrayValue,this.value)}}class QT extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&os(this.value.arrayValue,n)}}class YT extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(os(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!os(this.value.arrayValue,n)}}class XT extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ah(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>os(this.value.arrayValue,r))}}class Jo{constructor(e,n){this.position=e,this.inclusive=n}}class Er{constructor(e,n="asc"){this.field=e,this.dir=n}}function JT(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Yd(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=F.comparator(F.fromName(o.referenceValue),n.key):r=Dr(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xd(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.D=null,this.C=null,this.startAt,this.endAt}}function ZT(t,e,n,r,i,s,o,a){return new xs(t,e,n,r,i,s,o,a)}function Rh(t){return new xs(t)}function fo(t){return!Wr(t.limit)&&t.limitType==="F"}function Zo(t){return!Wr(t.limit)&&t.limitType==="L"}function Fy(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Uy(t){for(const e of t.filters)if(e.S())return e.field;return null}function eS(t){return t.collectionGroup!==null}function as(t){const e=b(t);if(e.D===null){e.D=[];const n=Uy(e),r=Fy(e);if(n!==null&&r===null)n.isKeyField()||e.D.push(new Er(n)),e.D.push(new Er(Ke.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Er(Ke.keyField(),s))}}}return e.D}function Un(t){const e=b(t);if(!e.C)if(e.limitType==="F")e.C=Qd(e.path,e.collectionGroup,as(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of as(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Er(s.field,o))}const r=e.endAt?new Jo(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Jo(e.startAt.position,!e.startAt.inclusive):null;e.C=Qd(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.C}function tS(t,e,n){return new xs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ba(t,e){return Oh(Un(t),Un(e))&&t.limitType===e.limitType}function Vy(t){return`${Dh(Un(t))}|lt:${t.limitType}`}function qu(t){return`Query(target=${HT(Un(t))}; limitType=${t.limitType})`}function Ph(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):F.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Yd(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,as(n),r)||n.endAt&&!function(i,s,o){const a=Yd(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,as(n),r))}(t,e)}function By(t){return(e,n)=>{let r=!1;for(const i of as(t)){const s=nS(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function nS(t,e,n){const r=t.field.isKeyField()?F.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Dr(a,l):j()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return j()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xo(e)?"-0":e}}function by(t){return{integerValue:""+t}}function rS(t,e){return bT(e)?by(e):jy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this._=void 0}}function iS(t,e,n){return t instanceof ea?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ls?Hy(t,e):t instanceof us?qy(t,e):function(r,i){const s=zy(r,i),o=Jd(s)+Jd(r.k);return zu(s)&&zu(r.k)?by(o):jy(r.O,o)}(t,e)}function sS(t,e,n){return t instanceof ls?Hy(t,e):t instanceof us?qy(t,e):n}function zy(t,e){return t instanceof ta?zu(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class ea extends za{}class ls extends za{constructor(e){super(),this.elements=e}}function Hy(t,e){const n=Ky(e);for(const r of t.elements)n.some(i=>Tt(i,r))||n.push(r);return{arrayValue:{values:n}}}class us extends za{constructor(e){super(),this.elements=e}}function qy(t,e){let n=Ky(e);for(const r of t.elements)n=n.filter(i=>!Tt(i,r));return{arrayValue:{values:n}}}class ta extends za{constructor(e,n){super(),this.O=e,this.k=n}}function Jd(t){return fe(t.integerValue||t.doubleValue)}function Ky(t){return Ah(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function oS(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ls&&r instanceof ls||n instanceof us&&r instanceof us?Nr(n.elements,r.elements,Tt):n instanceof ta&&r instanceof ta?Tt(n.k,r.k):n instanceof ea&&r instanceof ea}(t.transform,e.transform)}class aS{constructor(e,n){this.version=e,this.transformResults=n}}class Jt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jt}static exists(e){return new Jt(void 0,e)}static updateTime(e){return new Jt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function po(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ha{}function lS(t,e,n){t instanceof qa?function(r,i,s){const o=r.value.clone(),a=tp(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Gr?function(r,i,s){if(!po(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=tp(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Wy(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ku(t,e,n){t instanceof qa?function(r,i,s){if(!po(r.precondition,i))return;const o=r.value.clone(),a=np(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(ep(i),o).setHasLocalMutations()}(t,e,n):t instanceof Gr?function(r,i,s){if(!po(r.precondition,i))return;const o=np(r.fieldTransforms,s,i),a=i.data;a.setAll(Wy(r)),a.setAll(o),i.convertToFoundDocument(ep(i),a).setHasLocalMutations()}(t,e,n):function(r,i){po(r.precondition,i)&&i.convertToNoDocument(z.min())}(t,e)}function uS(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=zy(r.transform,i||null);s!=null&&(n==null&&(n=Ye.empty()),n.set(r.field,s))}return n||null}function Zd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Nr(n,r,(i,s)=>oS(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function ep(t){return t.isFoundDocument()?t.version:z.min()}class qa extends Ha{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Gr extends Ha{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function Wy(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tp(t,e,n){const r=new Map;X(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,sS(o,a,n[i]))}return r}function np(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,iS(s,o,e))}return r}class Gy extends Ha{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class cS extends Ha{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he,H;function fS(t){switch(t){default:return j();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function Qy(t){if(t===void 0)return an("GRPC error has no .code"),k.UNKNOWN;switch(t){case he.OK:return k.OK;case he.CANCELLED:return k.CANCELLED;case he.UNKNOWN:return k.UNKNOWN;case he.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case he.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case he.INTERNAL:return k.INTERNAL;case he.UNAVAILABLE:return k.UNAVAILABLE;case he.UNAUTHENTICATED:return k.UNAUTHENTICATED;case he.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case he.NOT_FOUND:return k.NOT_FOUND;case he.ALREADY_EXISTS:return k.ALREADY_EXISTS;case he.PERMISSION_DENIED:return k.PERMISSION_DENIED;case he.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case he.ABORTED:return k.ABORTED;case he.OUT_OF_RANGE:return k.OUT_OF_RANGE;case he.UNIMPLEMENTED:return k.UNIMPLEMENTED;case he.DATA_LOSS:return k.DATA_LOSS;default:return j()}}(H=he||(he={}))[H.OK=0]="OK",H[H.CANCELLED=1]="CANCELLED",H[H.UNKNOWN=2]="UNKNOWN",H[H.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",H[H.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",H[H.NOT_FOUND=5]="NOT_FOUND",H[H.ALREADY_EXISTS=6]="ALREADY_EXISTS",H[H.PERMISSION_DENIED=7]="PERMISSION_DENIED",H[H.UNAUTHENTICATED=16]="UNAUTHENTICATED",H[H.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",H[H.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",H[H.ABORTED=10]="ABORTED",H[H.OUT_OF_RANGE=11]="OUT_OF_RANGE",H[H.UNIMPLEMENTED=12]="UNIMPLEMENTED",H[H.INTERNAL=13]="INTERNAL",H[H.UNAVAILABLE=14]="UNAVAILABLE",H[H.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e,n){this.comparator=e,this.root=n||Se.EMPTY}insert(e,n){return new we(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Se.BLACK,null,null))}remove(e){return new we(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Se.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Js(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Js(this.root,e,this.comparator,!1)}getReverseIterator(){return new Js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Js(this.root,e,this.comparator,!0)}}class Js{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Se{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:Se.RED,this.left=i!=null?i:Se.EMPTY,this.right=s!=null?s:Se.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Se(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Se.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Se.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Se.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Se.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();const e=this.left.check();if(e!==this.right.check())throw j();return e+(this.isRed()?0:1)}}Se.EMPTY=null,Se.RED=!0,Se.BLACK=!1;Se.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Se(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.comparator=e,this.data=new we(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rp(this.data.getIterator())}getIteratorFrom(e){return new rp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _e)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _e(this.comparator);return n.data=e,n}}class rp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new we(F.comparator);function Vn(){return dS}const pS=new we(F.comparator);function Wu(){return pS}const mS=new we(F.comparator),gS=new _e(F.comparator);function ee(...t){let e=gS;for(const n of t)e=e.add(n);return e}const yS=new _e(W);function Yy(){return yS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,As.createSynthesizedTargetChangeForCurrentChange(e,n)),new Ka(z.min(),r,Yy(),Vn(),ee())}}class As{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new As(xe.EMPTY_BYTE_STRING,n,ee(),ee(),ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n,r,i){this.M=e,this.removedTargetIds=n,this.key=r,this.$=i}}class Xy{constructor(e,n){this.targetId=e,this.F=n}}class Jy{constructor(e,n,r=xe.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ip{constructor(){this.B=0,this.L=op(),this.U=xe.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return this.B!==0}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=ee(),n=ee(),r=ee();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:j()}}),new As(this.U,this.q,e,n,r)}J(){this.K=!1,this.L=op()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class vS{constructor(e){this.nt=e,this.st=new Map,this.it=Vn(),this.rt=sp(),this.ot=new _e(W)}ct(e){for(const n of e.M)e.$&&e.$.isFoundDocument()?this.ut(n,e.$):this.at(n,e.key,e.$);for(const n of e.removedTargetIds)this.at(n,e.key,e.$)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:j()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,i)=>{this.ft(i)&&n(i)})}_t(e){const n=e.targetId,r=e.F.count,i=this.wt(n);if(i){const s=i.target;if(Hu(s))if(r===0){const o=new F(s.path);this.at(n,o,Oe.newNoDocument(o,z.min()))}else X(r===1);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&Hu(a.target)){const l=new F(a.target.path);this.it.get(l)!==null||this.It(o,l)||this.at(o,l,Oe.newNoDocument(l,e))}s.j&&(n.set(o,s.H()),s.J())}});let r=ee();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.wt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new Ka(e,n,this.ot,this.it,r);return this.it=Vn(),this.rt=sp(),this.ot=new _e(W),i}ut(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Et(n.key).add(e))}at(e,n,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,n)?i.Y(n,1):i.X(n),this.rt=this.rt.insert(n,this.Et(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new ip,this.st.set(e,n)),n}Et(e){let n=this.rt.get(e);return n||(n=new _e(W),this.rt=this.rt.insert(e,n)),n}ft(e){const n=this.wt(e)!==null;return n||P("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new ip),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.at(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function sp(){return new we(F.comparator)}function op(){return new we(F.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),ES=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class TS{constructor(e,n){this.databaseId=e,this.N=n}}function na(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zy(t,e){return t.N?e.toBase64():e.toUint8Array()}function SS(t,e){return na(t,e.toTimestamp())}function Ot(t){return X(!!t),z.fromTimestamp(function(e){const n=ln(e);return new Ze(n.seconds,n.nanos)}(t))}function Lh(t,e){return function(n){return new ne(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function ev(t){const e=ne.fromString(t);return X(rv(e)),e}function Gu(t,e){return Lh(t.databaseId,e.path)}function Ml(t,e){const n=ev(e);if(n.get(1)!==t.databaseId.projectId)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new F(tv(n))}function Qu(t,e){return Lh(t.databaseId,e)}function CS(t){const e=ev(t);return e.length===4?ne.emptyPath():tv(e)}function Yu(t){return new ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tv(t){return X(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ap(t,e,n){return{name:Gu(t,e),fields:n.value.mapValue.fields}}function kS(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:j()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.N?(X(u===void 0||typeof u=="string"),xe.fromBase64String(u||"")):(X(u===void 0||u instanceof Uint8Array),xe.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?k.UNKNOWN:Qy(l.code);return new $(u,l.message||"")}(o);n=new Jy(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ml(t,r.document.name),s=Ot(r.document.updateTime),o=new Ye({mapValue:{fields:r.document.fields}}),a=Oe.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new mo(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ml(t,r.document),s=r.readTime?Ot(r.readTime):z.min(),o=Oe.newNoDocument(i,s),a=r.removedTargetIds||[];n=new mo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ml(t,r.document),s=r.removedTargetIds||[];n=new mo([],s,i,null)}else{if(!("filter"in e))return j();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new hS(i),o=r.targetId;n=new Xy(o,s)}}return n}function IS(t,e){let n;if(e instanceof qa)n={update:ap(t,e.key,e.value)};else if(e instanceof Gy)n={delete:Gu(t,e.key)};else if(e instanceof Gr)n={update:ap(t,e.key,e.data),updateMask:$S(e.fieldMask)};else{if(!(e instanceof cS))return j();n={verify:Gu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ea)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ls)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof us)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ta)return{fieldPath:s.field.canonicalString(),increment:o.k};throw j()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:SS(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:j()}(t,e.precondition)),n}function _S(t,e){return t&&t.length>0?(X(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Ot(r.updateTime):Ot(i);return s.isEqual(z.min())&&(s=Ot(i)),new aS(s,r.transformResults||[])}(n,e))):[]}function NS(t,e){return{documents:[Qu(t,e.path)]}}function xS(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Qu(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Qu(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length===0)return;const u=l.map(h=>function(m){if(m.op==="=="){if(Gd(m.value))return{unaryFilter:{field:Yn(m.field),op:"IS_NAN"}};if(Wd(m.value))return{unaryFilter:{field:Yn(m.field),op:"IS_NULL"}}}else if(m.op==="!="){if(Gd(m.value))return{unaryFilter:{field:Yn(m.field),op:"IS_NOT_NAN"}};if(Wd(m.value))return{unaryFilter:{field:Yn(m.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yn(m.field),op:RS(m.op),value:m.value}}}(h));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:Yn(h.field),direction:OS(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.N||Wr(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function AS(t){let e=CS(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){X(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=nv(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>function(m){return new Er(or(m.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h)));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Wr(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(h){const m=!!h.before,d=h.values||[];return new Jo(d,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,d=h.values||[];return new Jo(d,m)}(n.endAt)),ZT(e,i,o,s,a,"F",l,u)}function DS(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return j()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function nv(t){return t?t.unaryFilter!==void 0?[LS(t)]:t.fieldFilter!==void 0?[PS(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>nv(e)).reduce((e,n)=>e.concat(n)):j():[]}function OS(t){return wS[t]}function RS(t){return ES[t]}function Yn(t){return{fieldPath:t.canonicalString()}}function or(t){return Ke.fromServerFormat(t.fieldPath)}function PS(t){return We.create(or(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return j()}}(t.fieldFilter.op),t.fieldFilter.value)}function LS(t){switch(t.unaryFilter.op){case"IS_NAN":const e=or(t.unaryFilter.field);return We.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=or(t.unaryFilter.field);return We.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=or(t.unaryFilter.field);return We.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=or(t.unaryFilter.field);return We.create(i,"!=",{nullValue:"NULL_VALUE"});default:return j()}}function $S(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _?n:_.resolve(n)}catch(n){return _.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_.reject(n)}static resolve(e){return new _((n,r)=>{n(e)})}static reject(e){return new _((n,r)=>{r(e)})}static waitFor(e){return new _((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=_.resolve(!1);for(const r of e)n=n.next(i=>i?_.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Ds(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&lS(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&Ku(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&Ku(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(z.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&Nr(this.mutations,e.mutations,(n,r)=>Zd(n,r))&&Nr(this.baseMutations,e.baseMutations,(n,r)=>Zd(n,r))}}class $h{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){X(e.mutations.length===r.length);let i=mS;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new $h(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,r,i,s=z.min(),o=z.min(),a=xe.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Nn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Nn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Nn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.Ht=e}}function jS(t){const e=AS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.xe=new zS}addToCollectionParentIndex(e,n){return this.xe.add(n),_.resolve()}getCollectionParents(e,n){return _.resolve(this.xe.getEntries(n))}addFieldIndex(e,n){return _.resolve()}deleteFieldIndex(e,n){return _.resolve()}getDocumentsMatchingTarget(e,n,r){return _.resolve(ee())}getFieldIndex(e,n){return _.resolve(null)}getFieldIndexes(e,n){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}updateCollectionGroup(e,n,r){return _.resolve()}updateIndexEntries(e,n){return _.resolve()}}class zS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _e(ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _e(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new Or(0)}static Je(){return new Or(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Os(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==MS)throw t;P("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1}forEach(e){Kn(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Ry(this.inner)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.changes=new Rs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Oe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?_.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n,r){this.qn=e,this.gs=n,this.indexManager=r}ys(e,n){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.ps(e,n,r))}ps(e,n,r){return this.qn.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}Is(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Es(e,n){return this.qn.getEntries(e,n).next(r=>this.Ts(e,r).next(()=>r))}Ts(e,n){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.Is(n,r))}As(e,n,r){return function(i){return F.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Rs(e,n.path):eS(n)?this.Ps(e,n,r):this.bs(e,n,r)}Rs(e,n){return this.ys(e,new F(n)).next(r=>{let i=Wu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ps(e,n,r){const i=n.collectionGroup;let s=Wu();return this.indexManager.getCollectionParents(e,i).next(o=>_.forEach(o,a=>{const l=function(u,h){return new xs(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.bs(e,l,r).next(u=>{u.forEach((h,m)=>{s=s.insert(h,m)})})}).next(()=>s))}bs(e,n,r){let i;return this.qn.getAll(e,n.path,r).next(s=>(i=s,this.gs.getAllMutationBatchesAffectingQuery(e,n))).next(s=>{for(const o of s)for(const a of o.mutations){const l=a.key;let u=i.get(l);u==null&&(u=Oe.newInvalidDocument(l),i=i.insert(l,u)),Ku(a,u,o.localWriteTime),u.isFoundDocument()||(i=i.remove(l))}}).next(()=>(i.forEach((s,o)=>{Ph(n,o)||(i=i.remove(s))}),i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.vs=r,this.Vs=i}static Ss(e,n){let r=ee(),i=ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Mh(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{Ds(e){this.Cs=e}As(e,n,r,i){return function(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(z.min())?this.Ns(e,n):this.Cs.Es(e,i).next(s=>{const o=this.xs(n,s);return(fo(n)||Zo(n))&&this.ks(n.limitType,o,i,r)?this.Ns(e,n):(zd()<=K.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qu(n)),this.Cs.As(e,n,r).next(a=>(o.forEach(l=>{a=a.insert(l.key,l)}),a)))})}xs(e,n){let r=new _e(By(e));return n.forEach((i,s)=>{Ph(e,s)&&(r=r.add(s))}),r}ks(e,n,r,i){if(r.size!==n.size)return!0;const s=e==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ns(e,n){return zd()<=K.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",qu(n)),this.Cs.As(e,n,z.min())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n,r,i){this.persistence=e,this.Os=n,this.O=i,this.Ms=new we(W),this.$s=new Rs(s=>Dh(s),Oh),this.Fs=z.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(r)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new qS(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function GS(t,e,n,r){return new WS(t,e,n,r)}async function iv(t,e){const n=b(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.gs.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.gs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ee();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.Us.Es(r,l).next(u=>({qs:u,removedBatchIds:o,addedBatchIds:a}))})})}function QS(t,e){const n=b(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const h=l.batch,m=h.keys();let d=_.resolve();return m.forEach(g=>{d=d.next(()=>u.getEntry(a,g)).next(w=>{const E=l.docVersions.get(g);X(E!==null),w.version.compareTo(E)<0&&(h.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),u.addEntry(w)))})}),d.next(()=>o.gs.removeMutationBatch(a,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.gs.performConsistencyCheck(r)).next(()=>n.Us.Es(r,i))})}function sv(t){const e=b(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Un.getLastRemoteSnapshotVersion(n))}function YS(t,e){const n=b(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((u,h)=>{const m=i.get(h);if(!m)return;a.push(n.Un.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Un.addMatchingKeys(s,u.addedDocuments,h)));let d=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?d=d.withResumeToken(xe.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,r)),i=i.insert(h,d),function(g,w,E){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,d,u)&&a.push(n.Un.updateTargetData(s,d))});let l=Vn();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(XS(s,o,e.documentUpdates).next(u=>{l=u})),!r.isEqual(z.min())){const u=n.Un.getLastRemoteSnapshotVersion(s).next(h=>n.Un.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return _.waitFor(a).next(()=>o.apply(s)).next(()=>n.Us.Ts(s,l)).next(()=>l)}).then(s=>(n.Ms=i,s))}function XS(t,e,n){let r=ee();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=Vn();return n.forEach((o,a)=>{const l=i.get(o);a.isNoDocument()&&a.version.isEqual(z.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!l.isValidDocument()||a.version.compareTo(l.version)>0||a.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):P("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",a.version)}),s})}function JS(t,e){const n=b(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.gs.getNextMutationBatchAfterBatchId(r,e)))}function ZS(t,e){const n=b(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Un.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):n.Un.allocateTargetId(r).next(o=>(i=new Nn(e,o,0,r.currentSequenceNumber),n.Un.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.$s.set(e,r.targetId)),r})}async function Xu(t,e,n){const r=b(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ds(o))throw o;P("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.$s.delete(i.target)}function lp(t,e,n){const r=b(t);let i=z.min(),s=ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const h=b(a),m=h.$s.get(u);return m!==void 0?_.resolve(h.Ms.get(m)):h.Un.getTargetData(l,u)}(r,o,Un(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Os.As(o,e,n?i:z.min(),n?s:ee())).next(a=>({documents:a,Ks:s})))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,n){return _.resolve(this.Ws.get(n))}saveBundleMetadata(e,n){var r;return this.Ws.set(n.id,{id:(r=n).id,version:r.version,createTime:Ot(r.createTime)}),_.resolve()}getNamedQuery(e,n){return _.resolve(this.zs.get(n))}saveNamedQuery(e,n){return this.zs.set(n.name,function(r){return{name:r.name,query:jS(r.bundledQuery),readTime:Ot(r.readTime)}}(n)),_.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.overlays=new we(F.comparator),this.Hs=new Map}getOverlay(e,n){return _.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach(i=>{this.Yt(e,n,i)}),_.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Hs.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Hs.delete(r)),_.resolve()}getOverlaysForCollection(e,n,r){const i=new Map,s=n.length+1,o=new F(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return _.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new we((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=new Map,s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=new Map,l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(h,u)),!(a.size>=i)););return _.resolve(a)}Yt(e,n,r){if(r===null)return;const i=this.overlays.get(r.key);i!==null&&this.Hs.get(i.largestBatchId).delete(r.key),this.overlays=this.overlays.insert(r.key,new VS(n,r));let s=this.Hs.get(n);s===void 0&&(s=new Set,this.Hs.set(n,s)),s.add(r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this.Js=new _e(ge.Ys),this.Xs=new _e(ge.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,n){const r=new ge(e,n);this.Js=this.Js.add(r),this.Xs=this.Xs.add(r)}ti(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ei(new ge(e,n))}ni(e,n){e.forEach(r=>this.removeReference(r,n))}si(e){const n=new F(new ne([])),r=new ge(n,e),i=new ge(n,e+1),s=[];return this.Xs.forEachInRange([r,i],o=>{this.ei(o),s.push(o.key)}),s}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const n=new F(new ne([])),r=new ge(n,e),i=new ge(n,e+1);let s=ee();return this.Xs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ge(e,0),r=this.Js.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ge{constructor(e,n){this.key=e,this.oi=n}static Ys(e,n){return F.comparator(e.key,n.key)||W(e.oi,n.oi)}static Zs(e,n){return W(e.oi,n.oi)||F.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new _e(ge.Ys)}checkEmpty(e){return _.resolve(this.gs.length===0)}addMutationBatch(e,n,r,i){const s=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];const o=new US(s,n,r,i);this.gs.push(o);for(const a of i)this.ui=this.ui.add(new ge(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,n){return _.resolve(this.ai(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.hi(r),s=i<0?0:i;return _.resolve(this.gs.length>s?this.gs[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(this.gs.length===0?-1:this.ci-1)}getAllMutationBatches(e){return _.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ge(n,0),i=new ge(n,Number.POSITIVE_INFINITY),s=[];return this.ui.forEachInRange([r,i],o=>{const a=this.ai(o.oi);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _e(W);return n.forEach(i=>{const s=new ge(i,0),o=new ge(i,Number.POSITIVE_INFINITY);this.ui.forEachInRange([s,o],a=>{r=r.add(a.oi)})}),_.resolve(this.li(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;F.isDocumentKey(s)||(s=s.child(""));const o=new ge(new F(s),0);let a=new _e(W);return this.ui.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.oi)),!0)},o),_.resolve(this.li(a))}li(e){const n=[];return e.forEach(r=>{const i=this.ai(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){X(this.fi(n.batchId,"removed")===0),this.gs.shift();let r=this.ui;return _.forEach(n.mutations,i=>{const s=new ge(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ui=r})}Qe(e){}containsKey(e,n){const r=new ge(n,0),i=this.ui.firstAfterOrEqual(r);return _.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.gs.length,_.resolve()}fi(e,n){return this.hi(e)}hi(e){return this.gs.length===0?0:e-this.gs[0].batchId}ai(e){const n=this.hi(e);return n<0||n>=this.gs.length?null:this.gs[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.di=e,this.docs=new we(F.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.di(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _.resolve(r?r.document.mutableCopy():Oe.newInvalidDocument(n))}getEntries(e,n){let r=Vn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Oe.newInvalidDocument(i))}),_.resolve(r)}getAll(e,n,r){let i=Vn();const s=new F(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||l.readTime.compareTo(r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return _.resolve(i)}_i(e,n){return _.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iC(this)}getSize(e){return _.resolve(this.size)}}class iC extends HS{constructor(e){super(),this.Tn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Tn.addEntry(e,i)):this.Tn.removeEntry(r)}),_.waitFor(n)}getFromCache(e,n){return this.Tn.getEntry(e,n)}getAllFromCache(e,n){return this.Tn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.persistence=e,this.wi=new Rs(n=>Dh(n),Oh),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.mi=0,this.gi=new Fh,this.targetCount=0,this.yi=Or.He()}forEachTarget(e,n){return this.wi.forEach((r,i)=>n(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.mi&&(this.mi=n),_.resolve()}Ze(e){this.wi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.yi=new Or(n),this.highestTargetId=n),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,n){return this.Ze(n),this.targetCount+=1,_.resolve()}updateTargetData(e,n){return this.Ze(n),_.resolve()}removeTargetData(e,n){return this.wi.delete(n.target),this.gi.si(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.wi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.wi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,n){const r=this.wi.get(n)||null;return _.resolve(r)}addMatchingKeys(e,n,r){return this.gi.ti(n,r),_.resolve()}removeMatchingKeys(e,n,r){this.gi.ni(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.gi.si(n),_.resolve()}getMatchingKeysForTargetId(e,n){const r=this.gi.ri(n);return _.resolve(r)}containsKey(e,n){return _.resolve(this.gi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n){this.pi={},this.overlays={},this.Nn=new xh(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new sC(this),this.indexManager=new bS,this.qn=function(r){return new rC(r)}(r=>this.referenceDelegate.Ii(r)),this.O=new BS(n),this.Kn=new eC(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.pi[e.toKey()];return r||(r=new nC(n,this.referenceDelegate),this.pi[e.toKey()]=r),r}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,n,r){P("MemoryPersistence","Starting transaction:",e);const i=new aC(this.Nn.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.Ti(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return _.or(Object.values(this.pi).map(r=>()=>r.containsKey(e,n)))}}class aC extends FS{constructor(e){super(),this.currentSequenceNumber=e}}class Uh{constructor(e){this.persistence=e,this.Ri=new Fh,this.Pi=null}static bi(e){return new Uh(e)}get vi(){if(this.Pi)return this.Pi;throw j()}addReference(e,n,r){return this.Ri.addReference(r,n),this.vi.delete(r.toString()),_.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.vi.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,n){return this.vi.add(n.toString()),_.resolve()}removeTarget(e,n){this.Ri.si(n.targetId).forEach(i=>this.vi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.vi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Pi=new Set}Ti(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.vi,r=>{const i=F.fromPath(r);return this.Vi(e,i).next(s=>{s||n.removeEntry(i,z.min())})}).next(()=>(this.Pi=null,n.apply(e)))}updateLimboDocument(e,n){return this.Vi(e,n).next(r=>{r?this.vi.delete(n.toString()):this.vi.add(n.toString())})}Ii(e){return 0}Vi(e,n){return _.or([()=>_.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class up{constructor(){this.activeTargetIds=Yy()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lC{constructor(){this._r=new up,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,n,r){this.wr[e]=n}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new up,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{mr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.kr=n+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,n,r,i,s){const o=this.$r(e,n);P("RestConnection","Sending: ",o,r);const a={};return this.Fr(a,i,s),this.Br(e,o,a,r).then(l=>(P("RestConnection","Received: ",l),l),l=>{throw Hd("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}Lr(e,n,r,i,s){return this.Mr(e,n,r,i,s)}Fr(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Kr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$r(e,n){const r=cC[e];return`${this.kr}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,n,r,i){return new Promise((s,o)=>{const a=new DT;a.listenOnce(NT.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case $l.NO_ERROR:const u=a.getResponseJson();P("Connection","XHR received:",JSON.stringify(u)),s(u);break;case $l.TIMEOUT:P("Connection",'RPC "'+e+'" timed out'),o(new $(k.DEADLINE_EXCEEDED,"Request time out"));break;case $l.HTTP_ERROR:const h=a.getStatus();if(P("Connection",'RPC "'+e+'" failed with status:',h,"response text:",a.getResponseText()),h>0){const m=a.getResponseJson().error;if(m&&m.status&&m.message){const d=function(g){const w=g.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(w)>=0?w:k.UNKNOWN}(m.status);o(new $(d,m.message))}else o(new $(k.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new $(k.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{P("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}Ur(e,n,r){const i=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=IT(),o=_T(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new AT({})),this.Fr(a.initMessageHeaders,n,r),hw()||dw()||pw()||mw()||gw()||fw()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=i.join("");P("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let h=!1,m=!1;const d=new hC({Ar:w=>{m?P("Connection","Not sending because WebChannel is closed:",w):(h||(P("Connection","Opening WebChannel transport."),u.open(),h=!0),P("Connection","WebChannel sending:",w),u.send(w))},Rr:()=>u.close()}),g=(w,E,p)=>{w.listen(E,c=>{try{p(c)}catch(f){setTimeout(()=>{throw f},0)}})};return g(u,Xs.EventType.OPEN,()=>{m||P("Connection","WebChannel transport opened.")}),g(u,Xs.EventType.CLOSE,()=>{m||(m=!0,P("Connection","WebChannel transport closed"),d.Cr())}),g(u,Xs.EventType.ERROR,w=>{m||(m=!0,Hd("Connection","WebChannel transport errored:",w),d.Cr(new $(k.UNAVAILABLE,"The operation could not be completed")))}),g(u,Xs.EventType.MESSAGE,w=>{var E;if(!m){const p=w.data[0];X(!!p);const c=p,f=c.error||((E=c[0])===null||E===void 0?void 0:E.error);if(f){P("Connection","WebChannel received error:",f);const y=f.status;let v=function(C){const D=he[C];if(D!==void 0)return Qy(D)}(y),T=f.message;v===void 0&&(v=k.INTERNAL,T="Unknown error status: "+y+" with message "+f.message),m=!0,d.Cr(new $(v,T)),u.close()}else P("Connection","WebChannel received:",p),d.Nr(p)}}),g(o,xT.STAT_EVENT,w=>{w.stat===jd.PROXY?P("Connection","Detected buffering proxy"):w.stat===jd.NOPROXY&&P("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.Dr()},0),d}}function Fl(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){return new TS(t,!0)}class ov{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Sn=e,this.timerId=n,this.qr=r,this.Kr=i,this.Gr=s,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&P("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.jr} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){this.Qr!==null&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){this.Qr!==null&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n,r,i,s,o,a,l){this.Sn=e,this.Xr=r,this.Zr=i,this.eo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new ov(e,n)}oo(){return this.state===1||this.state===5||this.co()}co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.uo()}async stop(){this.oo()&&await this.close(0)}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&this.so===null&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}async lo(){if(this.co())return this.close(0)}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}async close(e,n){this._o(),this.wo(),this.ro.cancel(),this.no++,e!==4?this.ro.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(an(n.toString()),an("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.mo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.vr(n)}mo(){}auth(){this.state=1;const e=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.no===n&&this.po(r,i)},r=>{e(()=>{const i=new $(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Io(i)})})}po(e,n){const r=this.yo(this.no);this.stream=this.Eo(e,n),this.stream.Pr(()=>{r(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(i=>{r(()=>this.Io(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}uo(){this.state=5,this.ro.Hr(async()=>{this.state=0,this.start()})}Io(e){return P("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return n=>{this.Sn.enqueueAndForget(()=>this.no===e?n():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dC extends av{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.O=s}Eo(e,n){return this.eo.Ur("Listen",e,n)}onMessage(e){this.ro.reset();const n=kS(this.O,e),r=function(i){if(!("targetChange"in i))return z.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?z.min():s.readTime?Ot(s.readTime):z.min()}(e);return this.listener.To(n,r)}Ao(e){const n={};n.database=Yu(this.O),n.addTarget=function(i,s){let o;const a=s.target;return o=Hu(a)?{documents:NS(i,a)}:{query:xS(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=Zy(i,s.resumeToken):s.snapshotVersion.compareTo(z.min())>0&&(o.readTime=na(i,s.snapshotVersion.toTimestamp())),o}(this.O,e);const r=DS(this.O,e);r&&(n.labels=r),this.fo(n)}Ro(e){const n={};n.database=Yu(this.O),n.removeTarget=e,this.fo(n)}}class pC extends av{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.O=s,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,n){return this.eo.Ur("Write",e,n)}onMessage(e){if(X(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const n=_S(e.writeResults,e.commitTime),r=Ot(e.commitTime);return this.listener.Vo(r,n)}return X(!e.writeResults||e.writeResults.length===0),this.Po=!0,this.listener.So()}Do(){const e={};e.database=Yu(this.O),this.fo(e)}vo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>IS(this.O,r))};this.fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.eo=r,this.O=i,this.Co=!1}No(){if(this.Co)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,n,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.eo.Mr(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $(k.UNKNOWN,i.toString())})}Lr(e,n,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.eo.Lr(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $(k.UNKNOWN,i.toString())})}terminate(){this.Co=!0}}class gC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){this.xo===0&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){this.state==="Online"?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,e==="Online"&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(an(n),this.Oo=!1):P("OnlineStateTracker",n)}Lo(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=s,this.jo.mr(o=>{r.enqueueAndForget(async()=>{Wn(this)&&(P("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=b(a);l.Ko.add(4),await Ps(l),l.Qo.set("Unknown"),l.Ko.delete(4),await Ga(l)}(this))})}),this.Qo=new gC(r,i)}}async function Ga(t){if(Wn(t))for(const e of t.Go)await e(!0)}async function Ps(t){for(const e of t.Go)await e(!1)}function lv(t,e){const n=b(t);n.qo.has(e.targetId)||(n.qo.set(e.targetId,e),jh(n)?Bh(n):Qr(n).co()&&Vh(n,e))}function uv(t,e){const n=b(t),r=Qr(n);n.qo.delete(e),r.co()&&cv(n,e),n.qo.size===0&&(r.co()?r.ho():Wn(n)&&n.Qo.set("Unknown"))}function Vh(t,e){t.Wo.Z(e.targetId),Qr(t).Ao(e)}function cv(t,e){t.Wo.Z(e),Qr(t).Ro(e)}function Bh(t){t.Wo=new vS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>t.qo.get(e)||null}),Qr(t).start(),t.Qo.Mo()}function jh(t){return Wn(t)&&!Qr(t).oo()&&t.qo.size>0}function Wn(t){return b(t).Ko.size===0}function hv(t){t.Wo=void 0}async function vC(t){t.qo.forEach((e,n)=>{Vh(t,e)})}async function wC(t,e){hv(t),jh(t)?(t.Qo.Bo(e),Bh(t)):t.Qo.set("Unknown")}async function EC(t,e,n){if(t.Qo.set("Online"),e instanceof Jy&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.qo.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.qo.delete(o),r.Wo.removeTarget(o))}(t,e)}catch(r){P("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ra(t,r)}else if(e instanceof mo?t.Wo.ct(e):e instanceof Xy?t.Wo._t(e):t.Wo.ht(e),!n.isEqual(z.min()))try{const r=await sv(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Wo.yt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.qo.get(l);u&&i.qo.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.qo.get(a);if(!l)return;i.qo.set(a,l.withResumeToken(xe.EMPTY_BYTE_STRING,l.snapshotVersion)),cv(i,a);const u=new Nn(l.target,a,1,l.sequenceNumber);Vh(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){P("RemoteStore","Failed to raise snapshot:",r),await ra(t,r)}}async function ra(t,e,n){if(!Ds(e))throw e;t.Ko.add(1),await Ps(t),t.Qo.set("Offline"),n||(n=()=>sv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{P("RemoteStore","Retrying IndexedDB access"),await n(),t.Ko.delete(1),await Ga(t)})}function fv(t,e){return e().catch(n=>ra(t,n,e))}async function Qa(t){const e=b(t),n=un(e);let r=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;TC(e);)try{const i=await JS(e.localStore,r);if(i===null){e.Uo.length===0&&n.ho();break}r=i.batchId,SC(e,i)}catch(i){await ra(e,i)}dv(e)&&pv(e)}function TC(t){return Wn(t)&&t.Uo.length<10}function SC(t,e){t.Uo.push(e);const n=un(t);n.co()&&n.bo&&n.vo(e.mutations)}function dv(t){return Wn(t)&&!un(t).oo()&&t.Uo.length>0}function pv(t){un(t).start()}async function CC(t){un(t).Do()}async function kC(t){const e=un(t);for(const n of t.Uo)e.vo(n.mutations)}async function IC(t,e,n){const r=t.Uo.shift(),i=$h.from(r,e,n);await fv(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qa(t)}async function _C(t,e){e&&un(t).bo&&await async function(n,r){if(i=r.code,fS(i)&&i!==k.ABORTED){const s=n.Uo.shift();un(n).ao(),await fv(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Qa(n)}var i}(t,e),dv(t)&&pv(t)}async function hp(t,e){const n=b(t);n.asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials");const r=Wn(n);n.Ko.add(3),await Ps(n),r&&n.Qo.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ko.delete(3),await Ga(n)}async function NC(t,e){const n=b(t);e?(n.Ko.delete(2),await Ga(n)):e||(n.Ko.add(2),await Ps(n),n.Qo.set("Unknown"))}function Qr(t){return t.zo||(t.zo=function(e,n,r){const i=b(e);return i.No(),new dC(n,i.eo,i.authCredentials,i.appCheckCredentials,i.O,r)}(t.datastore,t.asyncQueue,{Pr:vC.bind(null,t),vr:wC.bind(null,t),To:EC.bind(null,t)}),t.Go.push(async e=>{e?(t.zo.ao(),jh(t)?Bh(t):t.Qo.set("Unknown")):(await t.zo.stop(),hv(t))})),t.zo}function un(t){return t.Ho||(t.Ho=function(e,n,r){const i=b(e);return i.No(),new pC(n,i.eo,i.authCredentials,i.appCheckCredentials,i.O,r)}(t.datastore,t.asyncQueue,{Pr:CC.bind(null,t),vr:_C.bind(null,t),So:kC.bind(null,t),Vo:IC.bind(null,t)}),t.Go.push(async e=>{e?(t.Ho.ao(),await Qa(t)):(await t.Ho.stop(),t.Uo.length>0&&(P("RemoteStore",`Stopping write stream with ${t.Uo.length} pending writes`),t.Uo=[]))})),t.Ho}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new bh(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zh(t,e){if(an("AsyncQueue",`${e}: ${t}`),Ds(t))return new $(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||F.comparator(n.key,r.key):(n,r)=>F.comparator(n.key,r.key),this.keyedMap=Wu(),this.sortedSet=new we(this.comparator)}static emptySet(e){return new Tr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this.Jo=new we(F.comparator)}track(e){const n=e.doc.key,r=this.Jo.get(n);r?e.type!==0&&r.type===3?this.Jo=this.Jo.insert(n,e):e.type===3&&r.type!==1?this.Jo=this.Jo.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Jo=this.Jo.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Jo=this.Jo.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Jo=this.Jo.remove(n):e.type===1&&r.type===2?this.Jo=this.Jo.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Jo=this.Jo.insert(n,{type:2,doc:e.doc}):j():this.Jo=this.Jo.insert(n,e)}Yo(){const e=[];return this.Jo.inorderTraversal((n,r)=>{e.push(r)}),e}}class Rr{constructor(e,n,r,i,s,o,a,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Rr(e,n,Tr.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ba(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.Xo=void 0,this.listeners=[]}}class AC{constructor(){this.queries=new Rs(e=>Vy(e),ba),this.onlineState="Unknown",this.Zo=new Set}}async function DC(t,e){const n=b(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new xC),i)try{s.Xo=await n.onListen(r)}catch(o){const a=zh(o,`Initialization of query '${qu(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.tc(n.onlineState),s.Xo&&e.ec(s.Xo)&&Hh(n)}async function OC(t,e){const n=b(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function RC(t,e){const n=b(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.ec(i)&&(r=!0);o.Xo=i}}r&&Hh(n)}function PC(t,e,n){const r=b(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Hh(t){t.Zo.forEach(e=>{e.next()})}class LC{constructor(e,n,r){this.query=e,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}ec(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Rr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.sc?this.rc(e)&&(this.nc.next(e),n=!0):this.oc(e,this.onlineState)&&(this.cc(e),n=!0),this.ic=e,n}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let n=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),n=!0),n}oc(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.uc||!r)&&(!e.docs.isEmpty()||n==="Offline")}rc(e){if(e.docChanges.length>0)return!0;const n=this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}cc(e){e=Rr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this.key=e}}class gv{constructor(e){this.key=e}}class $C{constructor(e,n){this.query=e,this.dc=n,this._c=null,this.current=!1,this.wc=ee(),this.mutatedKeys=ee(),this.mc=By(e),this.gc=new Tr(this.mc)}get yc(){return this.dc}Ic(e,n){const r=n?n.Ec:new fp,i=n?n.gc:this.gc;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=fo(this.query)&&i.size===this.query.limit?i.last():null,u=Zo(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const d=i.get(h),g=Ph(this.query,m)?m:null,w=!!d&&this.mutatedKeys.has(d.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let p=!1;d&&g?d.data.isEqual(g.data)?w!==E&&(r.track({type:3,doc:g}),p=!0):this.Tc(d,g)||(r.track({type:2,doc:g}),p=!0,(l&&this.mc(g,l)>0||u&&this.mc(g,u)<0)&&(a=!0)):!d&&g?(r.track({type:0,doc:g}),p=!0):d&&!g&&(r.track({type:1,doc:d}),p=!0,(l||u)&&(a=!0)),p&&(g?(o=o.add(g),s=E?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),fo(this.query)||Zo(this.query))for(;o.size>this.query.limit;){const h=fo(this.query)?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{gc:o,Ec:r,ks:a,mutatedKeys:s}}Tc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const s=e.Ec.Yo();s.sort((u,h)=>function(m,d){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return g(m)-g(d)}(u.type,h.type)||this.mc(u.doc,h.doc)),this.Ac(r);const o=n?this.Rc():[],a=this.wc.size===0&&this.current?1:0,l=a!==this._c;return this._c=a,s.length!==0||l?{snapshot:new Rr(this.query,e.gc,i,s,e.mutatedKeys,a===0,l,!1),Pc:o}:{Pc:o}}tc(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new fp,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(n=>this.dc=this.dc.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.dc=this.dc.delete(n)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=ee(),this.gc.forEach(r=>{this.bc(r.key)&&(this.wc=this.wc.add(r.key))});const n=[];return e.forEach(r=>{this.wc.has(r)||n.push(new gv(r))}),this.wc.forEach(r=>{e.has(r)||n.push(new mv(r))}),n}vc(e){this.dc=e.Ks,this.wc=ee();const n=this.Ic(e.documents);return this.applyChanges(n,!0)}Vc(){return Rr.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,this._c===0)}}class MC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class FC{constructor(e){this.key=e,this.Sc=!1}}class UC{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new Rs(a=>Vy(a),ba),this.Nc=new Map,this.xc=new Set,this.kc=new we(F.comparator),this.Oc=new Map,this.Mc=new Fh,this.$c={},this.Fc=new Map,this.Bc=Or.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return this.Lc===!0}}async function VC(t,e){const n=QC(t);let r,i;const s=n.Cc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Vc();else{const o=await ZS(n.localStore,Un(e));n.isPrimaryClient&&lv(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await BC(n,e,r,a==="current")}return i}async function BC(t,e,n,r){t.Uc=(h,m,d)=>async function(g,w,E,p){let c=w.view.Ic(E);c.ks&&(c=await lp(g.localStore,w.query,!1).then(({documents:v})=>w.view.Ic(v,c)));const f=p&&p.targetChanges.get(w.targetId),y=w.view.applyChanges(c,g.isPrimaryClient,f);return pp(g,w.targetId,y.Pc),y.snapshot}(t,h,m,d);const i=await lp(t.localStore,e,!0),s=new $C(e,i.Ks),o=s.Ic(i.documents),a=As.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=s.applyChanges(o,t.isPrimaryClient,a);pp(t,n,l.Pc);const u=new MC(e,n,s);return t.Cc.set(e,u),t.Nc.has(n)?t.Nc.get(n).push(e):t.Nc.set(n,[e]),l.snapshot}async function jC(t,e){const n=b(t),r=n.Cc.get(e),i=n.Nc.get(r.targetId);if(i.length>1)return n.Nc.set(r.targetId,i.filter(s=>!ba(s,e))),void n.Cc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Xu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),uv(n.remoteStore,r.targetId),Ju(n,r.targetId)}).catch(Os)):(Ju(n,r.targetId),await Xu(n.localStore,r.targetId,!0))}async function bC(t,e,n){const r=YC(t);try{const i=await function(s,o){const a=b(s),l=Ze.now(),u=o.reduce((m,d)=>m.add(d.key),ee());let h;return a.persistence.runTransaction("Locally write mutations","readwrite",m=>a.Us.Es(m,u).next(d=>{h=d;const g=[];for(const w of o){const E=uS(w,h.get(w.key));E!=null&&g.push(new Gr(w.key,E,$y(E.value.mapValue),Jt.exists(!0)))}return a.gs.addMutationBatch(m,l,g,o)})).then(m=>(m.applyToLocalDocumentSet(h),{batchId:m.batchId,changes:h}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.$c[s.currentUser.toKey()];l||(l=new we(W)),l=l.insert(o,a),s.$c[s.currentUser.toKey()]=l}(r,i.batchId,n),await Ls(r,i.changes),await Qa(r.remoteStore)}catch(i){const s=zh(i,"Failed to persist write");n.reject(s)}}async function yv(t,e){const n=b(t);try{const r=await YS(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Oc.get(s);o&&(X(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Sc=!0:i.modifiedDocuments.size>0?X(o.Sc):i.removedDocuments.size>0&&(X(o.Sc),o.Sc=!1))}),await Ls(n,r,e)}catch(r){await Os(r)}}function dp(t,e,n){const r=b(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Cc.forEach((s,o)=>{const a=o.view.tc(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=b(s);a.onlineState=o;let l=!1;a.queries.forEach((u,h)=>{for(const m of h.listeners)m.tc(o)&&(l=!0)}),l&&Hh(a)}(r.eventManager,e),i.length&&r.Dc.To(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zC(t,e,n){const r=b(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Oc.get(e),s=i&&i.key;if(s){let o=new we(F.comparator);o=o.insert(s,Oe.newNoDocument(s,z.min()));const a=ee().add(s),l=new Ka(z.min(),new Map,new _e(W),o,a);await yv(r,l),r.kc=r.kc.remove(s),r.Oc.delete(e),qh(r)}else await Xu(r.localStore,e,!1).then(()=>Ju(r,e,n)).catch(Os)}async function HC(t,e){const n=b(t),r=e.batch.batchId;try{const i=await QS(n.localStore,e);wv(n,r,null),vv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ls(n,i)}catch(i){await Os(i)}}async function qC(t,e,n){const r=b(t);try{const i=await function(s,o){const a=b(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.gs.lookupMutationBatch(l,o).next(h=>(X(h!==null),u=h.keys(),a.gs.removeMutationBatch(l,h))).next(()=>a.gs.performConsistencyCheck(l)).next(()=>a.Us.Es(l,u))})}(r.localStore,e);wv(r,e,n),vv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ls(r,i)}catch(i){await Os(i)}}function vv(t,e){(t.Fc.get(e)||[]).forEach(n=>{n.resolve()}),t.Fc.delete(e)}function wv(t,e,n){const r=b(t);let i=r.$c[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.$c[r.currentUser.toKey()]=i}}function Ju(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Nc.get(e))t.Cc.delete(r),n&&t.Dc.qc(r,n);t.Nc.delete(e),t.isPrimaryClient&&t.Mc.si(e).forEach(r=>{t.Mc.containsKey(r)||Ev(t,r)})}function Ev(t,e){t.xc.delete(e.path.canonicalString());const n=t.kc.get(e);n!==null&&(uv(t.remoteStore,n),t.kc=t.kc.remove(e),t.Oc.delete(n),qh(t))}function pp(t,e,n){for(const r of n)r instanceof mv?(t.Mc.addReference(r.key,e),KC(t,r)):r instanceof gv?(P("SyncEngine","Document no longer in limbo: "+r.key),t.Mc.removeReference(r.key,e),t.Mc.containsKey(r.key)||Ev(t,r.key)):j()}function KC(t,e){const n=e.key,r=n.path.canonicalString();t.kc.get(n)||t.xc.has(r)||(P("SyncEngine","New document in limbo: "+n),t.xc.add(r),qh(t))}function qh(t){for(;t.xc.size>0&&t.kc.size<t.maxConcurrentLimboResolutions;){const e=t.xc.values().next().value;t.xc.delete(e);const n=new F(ne.fromString(e)),r=t.Bc.next();t.Oc.set(r,new FC(n)),t.kc=t.kc.insert(n,r),lv(t.remoteStore,new Nn(Un(Rh(n.path)),r,2,xh.A))}}async function Ls(t,e,n){const r=b(t),i=[],s=[],o=[];r.Cc.isEmpty()||(r.Cc.forEach((a,l)=>{o.push(r.Uc(l,e,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),i.push(u);const h=Mh.Ss(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Dc.To(i),await async function(a,l){const u=b(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>_.forEach(l,m=>_.forEach(m.vs,d=>u.persistence.referenceDelegate.addReference(h,m.targetId,d)).next(()=>_.forEach(m.Vs,d=>u.persistence.referenceDelegate.removeReference(h,m.targetId,d)))))}catch(h){if(!Ds(h))throw h;P("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const m=h.targetId;if(!h.fromCache){const d=u.Ms.get(m),g=d.snapshotVersion,w=d.withLastLimboFreeSnapshotVersion(g);u.Ms=u.Ms.insert(m,w)}}}(r.localStore,s))}async function WC(t,e){const n=b(t);if(!n.currentUser.isEqual(e)){P("SyncEngine","User change. New user:",e.toKey());const r=await iv(n.localStore,e);n.currentUser=e,function(i,s){i.Fc.forEach(o=>{o.forEach(a=>{a.reject(new $(k.CANCELLED,s))})}),i.Fc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ls(n,r.qs)}}function GC(t,e){const n=b(t),r=n.Oc.get(e);if(r&&r.Sc)return ee().add(r.key);{let i=ee();const s=n.Nc.get(e);if(!s)return i;for(const o of s){const a=n.Cc.get(o);i=i.unionWith(a.view.yc)}return i}}function QC(t){const e=b(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zC.bind(null,e),e.Dc.To=RC.bind(null,e.eventManager),e.Dc.qc=PC.bind(null,e.eventManager),e}function YC(t){const e=b(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qC.bind(null,e),e}class XC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.O=Wa(e.databaseInfo.databaseId),this.sharedClientState=this.Gc(e),this.persistence=this.jc(e),await this.persistence.start(),this.gcScheduler=this.Qc(e),this.localStore=this.Wc(e)}Qc(e){return null}Wc(e){return GS(this.persistence,new KS,e.initialUser,this.O)}jc(e){return new oC(Uh.bi,this.O)}Gc(e){return new lC}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class JC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dp(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WC.bind(null,this.syncEngine),await NC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new AC}createDatastore(e){const n=Wa(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new fC(i));var i;return function(s,o,a,l){return new mC(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>dp(this.syncEngine,a,0),o=cp.Vt()?new cp:new uC,new yC(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const h=new UC(r,i,s,o,a,l);return u&&(h.Lc=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=b(e);P("RemoteStore","RemoteStore shutting down."),n.Ko.add(5),await Ps(n),n.jo.shutdown(),n.Qo.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qe.UNAUTHENTICATED,this.clientId=Oy.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{P("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(P("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zh(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tk(t,e){t.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await iv(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function nk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rk(t);P("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>hp(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>hp(e.remoteStore,s)),t.onlineComponents=e}async function rk(t){return t.offlineComponents||(P("FirestoreClient","Using default OfflineComponentProvider"),await tk(t,new XC)),t.offlineComponents}async function Tv(t){return t.onlineComponents||(P("FirestoreClient","Using default OnlineComponentProvider"),await nk(t,new JC)),t.onlineComponents}function ik(t){return Tv(t).then(e=>e.syncEngine)}async function mp(t){const e=await Tv(t),n=e.eventManager;return n.onListen=VC.bind(null,e.syncEngine),n.onUnlisten=jC.bind(null,e.syncEngine),n}const gp=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t,e,n){if(!n)throw new $(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sk(t,e,n,r){if(e===!0&&r===!0)throw new $(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yp(t){if(!F.isDocumentKey(t))throw new $(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vp(t){if(F.isDocumentKey(t))throw new $(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":j()}function xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(t);throw new $(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new $(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,sk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wp({}),this._settingsFrozen=!1,e instanceof Ar?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new $(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ar(i.options.projectId)}(e))}get app(){if(!this._app)throw new $(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wp(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new RT;switch(n.type){case"gapi":const r=n.client;return X(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new $T(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new $(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=gp.get(e);n&&(P("ComponentProvider","Removing Datastore"),gp.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zt(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new et(this.firestore,e,this._key)}}class $s{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $s(this.firestore,e,this._query)}}class Zt extends $s{constructor(e,n,r){super(e,n,Rh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new et(this.firestore,null,new F(e))}withConverter(e){return new Zt(this.firestore,e,this._path)}}function Rk(t,e,...n){if(t=Pt(t),Sv("collection","path",e),t instanceof Wh){const r=ne.fromString(e,...n);return vp(r),new Zt(t,null,r)}{if(!(t instanceof et||t instanceof Zt))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ne.fromString(e,...n));return vp(r),new Zt(t.firestore,null,r)}}function ok(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=Oy.R()),Sv("doc","path",e),t instanceof Wh){const r=ne.fromString(e,...n);return yp(r),new et(t,null,new F(r))}{if(!(t instanceof et||t instanceof Zt))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ne.fromString(e,...n));return yp(r),new et(t.firestore,t instanceof Zt?t.converter:null,new F(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new ov(this,"async_queue_retry"),this.yu=()=>{const n=Fl();n&&P("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ro.Yr()};const e=Fl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const n=Fl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const n=new _n;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}async Eu(){if(this.lu.length!==0){try{await this.lu[0](),this.lu.shift(),this.ro.reset()}catch(e){if(!Ds(e))throw e;P("AsyncQueue","Operation failed with retryable error: "+e)}this.lu.length>0&&this.ro.Hr(()=>this.Eu())}}Iu(e){const n=this.hu.then(()=>(this.wu=!0,e().catch(r=>{this._u=r,this.wu=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw an("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.wu=!1,r))));return this.hu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.gu.indexOf(e)>-1&&(n=0);const i=bh.createAndSchedule(this,e,n,r,s=>this.Tu(s));return this.du.push(i),i}pu(){this._u&&j()}verifyOperationInProgress(){}async Au(){let e;do e=this.hu,await e;while(e!==this.hu)}Ru(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function Ep(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Pr extends Wh{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new ak,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||kv(this),this._firestoreClient.terminate()}}function Pk(t=fE()){return lE(t,"firestore").getImmediate()}function Cv(t){return t._firestoreClient||kv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function kv(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new jT(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new ek(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lr(xe.fromBase64String(e))}catch(n){throw new $(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lr(xe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return W(this._lat,e._lat)||W(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=/^__.*__$/;class uk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms):new qa(e,this.data,n,this.fieldTransforms)}}class Iv{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _v(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j()}}class Yh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.O=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new Yh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Cu:!1});return i.Nu(e),i}xu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Cu:!1});return i.vu(),i}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return ia(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(e.length===0)throw this.Ou("Document fields must not be empty");if(_v(this.Vu)&&lk.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class ck{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.O=r||Wa(e)}Fu(e,n,r,i=!1){return new Yh({Vu:e,methodName:n,$u:r,path:Ke.emptyPath(),Cu:!1,Mu:i},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function Nv(t){const e=t._freezeSettings(),n=Wa(t._databaseId);return new ck(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hk(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Xh("Data must be an object, but it was:",o,r);const a=xv(r,o);let l,u;if(s.merge)l=new is(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const m of s.mergeFields){const d=Zu(e,m,n);if(!o.contains(d))throw new $(k.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Dv(h,d)||h.push(d)}l=new is(h),u=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,u=o.fieldTransforms;return new uk(new Ye(a),l,u)}class Xa extends Gh{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Ou(`${this._methodName}() can only appear at the top level of your update data`):e.Ou(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xa}}function fk(t,e,n,r){const i=t.Fu(1,e,n);Xh("Data must be an object, but it was:",i,r);const s=[],o=Ye.empty();Kn(r,(l,u)=>{const h=Jh(e,l,n);u=Pt(u);const m=i.xu(h);if(u instanceof Xa)s.push(h);else{const d=Ja(u,m);d!=null&&(s.push(h),o.set(h,d))}});const a=new is(s);return new Iv(o,a,i.fieldTransforms)}function dk(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[Zu(e,r,n)],l=[i];if(s.length%2!=0)throw new $(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Zu(e,s[d])),l.push(s[d+1]);const u=[],h=Ye.empty();for(let d=a.length-1;d>=0;--d)if(!Dv(u,a[d])){const g=a[d];let w=l[d];w=Pt(w);const E=o.xu(g);if(w instanceof Xa)u.push(g);else{const p=Ja(w,E);p!=null&&(u.push(g),h.set(g,p))}}const m=new is(u);return new Iv(h,m,o.fieldTransforms)}function Ja(t,e){if(Av(t=Pt(t)))return Xh("Unsupported field value:",e,t),xv(t,e);if(t instanceof Gh)return function(n,r){if(!_v(r.Vu))throw r.Ou(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ou(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Cu&&e.Vu!==4)throw e.Ou("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Ja(o,r.ku(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Pt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return rS(r.O,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ze.fromDate(n);return{timestampValue:na(r.O,i)}}if(n instanceof Ze){const i=new Ze(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:na(r.O,i)}}if(n instanceof Qh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Lr)return{bytesValue:Zy(r.O,n._byteString)};if(n instanceof et){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Ou(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Lh(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Ou(`Unsupported field value: ${Kh(n)}`)}(t,e)}function xv(t,e){const n={};return Ry(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kn(t,(r,i)=>{const s=Ja(i,e.Du(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Av(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Qh||t instanceof Lr||t instanceof et||t instanceof Gh)}function Xh(t,e,n){if(!Av(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Kh(n);throw r==="an object"?e.Ou(t+" a custom object"):e.Ou(t+" "+r)}}function Zu(t,e,n){if((e=Pt(e))instanceof Ya)return e._internalPath;if(typeof e=="string")return Jh(t,e);throw ia("Field path arguments must be of type string or ",t,!1,void 0,n)}const pk=new RegExp("[~\\*/\\[\\]]");function Jh(t,e,n){if(e.search(pk)>=0)throw ia(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ya(...e.split("."))._internalPath}catch{throw ia(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ia(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $(k.INVALID_ARGUMENT,a+t+l)}function Dv(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mk extends Ov{data(){return super.data()}}function Zh(t,e){return typeof e=="string"?Jh(t,e):e instanceof Ya?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rv extends Ov{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new go(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class go extends Rv{data(e={}){return super.data(e)}}class gk{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new go(this._firestore,this._userDataWriter,r.key,r,new wi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new go(r._firestore,r._userDataWriter,o.doc.key,o.doc,new wi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new go(r._firestore,r._userDataWriter,o.doc.key,o.doc,new wi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:yk(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t){if(Zo(t)&&t.explicitOrderBy.length===0)throw new $(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wk{}function Lk(t,...e){for(const n of e)t=n._apply(t);return t}class Ek extends wk{constructor(e,n){super(),this.Uu=e,this.Gu=n,this.type="orderBy"}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new $(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new $(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Er(i,s);return function(a,l){if(Fy(a)===null){const u=Uy(a);u!==null&&Tk(a,u,l.field)}}(r,o),o}(e._query,this.Uu,this.Gu);return new $s(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new xs(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function $k(t,e="asc"){const n=e,r=Zh("orderBy",t);return new Ek(r,n)}function Tk(t,e,n){if(!n.isEqual(e))throw new $(k.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{convertValue(e,n="none"){switch(Fn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw j()}}convertObject(e,n){const r={};return Kn(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Qh(fe(e.latitude),fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ly(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ss(e));default:return null}}convertTimestamp(e){const n=ln(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ne.fromString(e);X(rv(r));const i=new Ar(r.get(1),r.get(3)),s=new F(r.popFirst(5));return i.isEqual(n)||an(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Pv extends Sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new et(this.firestore,null,n)}}function Mk(t,e,n,...r){t=xn(t,et);const i=xn(t.firestore,Pr),s=Nv(i);let o;return o=typeof(e=Pt(e))=="string"||e instanceof Ya?dk(s,"updateDoc",t._key,e,n,r):fk(s,"updateDoc",t._key,e),ef(i,[o.toMutation(t._key,Jt.exists(!0))])}function Fk(t){return ef(xn(t.firestore,Pr),[new Gy(t._key,Jt.none())])}function Uk(t,e){const n=xn(t.firestore,Pr),r=ok(t),i=Ck(t.converter,e);return ef(n,[hk(Nv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jt.exists(!1))]).then(()=>r)}function Vk(t,...e){var n,r,i;t=Pt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Ep(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Ep(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let l,u,h;if(t instanceof et)u=xn(t.firestore,Pr),h=Rh(t._key.path),l={next:m=>{e[o]&&e[o](kk(u,t,m))},error:e[o+1],complete:e[o+2]};else{const m=xn(t,$s);u=xn(m.firestore,Pr),h=m._query;const d=new Pv(u);l={next:g=>{e[o]&&e[o](new gk(u,d,m,g))},error:e[o+1],complete:e[o+2]},vk(t._query)}return function(m,d,g,w){const E=new ZC(w),p=new LC(d,E,g);return m.asyncQueue.enqueueAndForget(async()=>DC(await mp(m),p)),()=>{E.Jc(),m.asyncQueue.enqueueAndForget(async()=>OC(await mp(m),p))}}(Cv(u),h,a,l)}function ef(t,e){return function(n,r){const i=new _n;return n.asyncQueue.enqueueAndForget(async()=>bC(await ik(n),r,i)),i.promise}(Cv(t),e)}function kk(t,e,n){const r=n.docs.get(e._key),i=new Pv(t);return new Rv(t,i,e._key,r,new wi(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Kr=n})(hE),jo(new Yi("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Pr(i,new PT(n.getProvider("auth-internal")),new FT(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),vr(bd,"3.4.5",t),vr(bd,"3.4.5","esm2017")})();var Ik="firebase",_k="9.6.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr(Ik,_k,"app");function Bk(t){return Xc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 6V3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3h5v2h-2v13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8H2V6h5zm6.414 8l1.768-1.768-1.414-1.414L12 12.586l-1.768-1.768-1.414 1.414L10.586 14l-1.768 1.768 1.414 1.414L12 15.414l1.768 1.768 1.414-1.414L13.414 14zM9 4v2h6V4H9z"}}]}]})(t)}export{Ak as B,b1 as F,Vk as H,Mk as Q,Bk as R,wg as T,Fk as W,xk as a,Dk as b,ok as c,Pk as d,Nk as e,kn as f,Ok as i,j1 as j,Rk as n,$k as p,R as r,re as t,Ze as u,Lk as w,Uk as z};
